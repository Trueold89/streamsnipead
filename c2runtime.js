// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,x,ba,K,ea,fa,ia,L,ja,ka,la,oa,pa,N,qa,ra,Q,sa,ta,ua,va,R,wa,xa,ya,za,Ca,T,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,U,Pb,Qb,V,Rb,Sb={},Tb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(g){return g.__proto__}:function(g){return g.constructor.prototype});
(function(){function g(a,b,d,f){this.set(a,b,d,f)}function n(){this.Db=this.Cb=this.Fb=this.Eb=this.Ub=this.Tb=this.Rb=this.Qb=0}function l(a,b,d,f){a<b?d<f?(w=a<d?a:d,q=b>f?b:f):(w=a<f?a:f,q=b>d?b:d):d<f?(w=b<d?b:d,q=a>f?a:f):(w=b<f?b:f,q=a>d?a:d)}function p(){this.items=this.mc=null;this.nf=0;ga&&(this.mc=new Set);this.Fe=[];this.Tc=!0}function v(a){X[da++]=a}function r(){this.W=this.Ug=this.y=this.jh=0}function h(a){this.ve=[];this.qj=this.sj=this.tj=this.rj=0;this.Gf(a)}function b(a,b){this.ph=
a;this.oh=b;this.cells={}}function e(a,b){this.ph=a;this.oh=b;this.cells={}}function c(a,b,d){var f;return P.length?(f=P.pop(),f.Sh=a,f.x=b,f.y=d,f):new aa(a,b,d)}function a(a,b,f){this.Sh=a;this.x=b;this.y=f;this.qa=new x}function f(a,b,f){var d;return y.length?(d=y.pop(),d.Sh=a,d.x=b,d.y=f,d):new ba(a,b,f)}function k(a,b,f){this.Sh=a;this.x=b;this.y=f;this.qa=[];this.je=!0;this.jc=new x;this.Ke=!1}function d(a,b){return a.Xb-b.Xb}K=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ia=function(a){return"number"===typeof a};L=function(a){return"string"===typeof a};ja=function(a){return 0<a&&0===(a-1&a)};ka=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};la=function(a){return 0>a?-a:a};oa=function(a,b){return a<b?a:b};pa=Math.PI;N=function(a){return 0<=a?a|0:(a|0)-1};qa=function(a){var b=a|0;return b===a?b:b+1};ra=function(a,b,f,d,e,u,k,m){var c,
h,w,t;a<f?(h=a,c=f):(h=f,c=a);e<k?(t=e,w=k):(t=k,w=e);if(c<t||h>w)return!1;b<d?(h=b,c=d):(h=d,c=b);u<m?(t=u,w=m):(t=m,w=u);if(c<t||h>w)return!1;c=e-a+k-f;h=u-b+m-d;a=f-a;b=d-b;e=k-e;u=m-u;m=la(b*e-u*a);return la(e*h-u*c)>m?!1:la(a*h-b*c)<=m};g.prototype.set=function(a,b,f,d){this.left=a;this.top=b;this.right=f;this.bottom=d};g.prototype.Qe=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};g.prototype.width=function(){return this.right-this.left};g.prototype.height=
function(){return this.bottom-this.top};g.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};g.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};g.prototype.$b=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};g.prototype.Ue=function(a){return this.left===a.left&&this.top===a.top&&this.right===
a.right&&this.bottom===a.bottom};Q=g;n.prototype.Ff=function(a){this.Qb=a.left;this.Rb=a.top;this.Tb=a.right;this.Ub=a.top;this.Eb=a.right;this.Fb=a.bottom;this.Cb=a.left;this.Db=a.bottom};n.prototype.xl=function(a,b){if(0===b)this.Ff(a);else{var f=Math.sin(b),d=Math.cos(b),e=a.left*f,u=a.top*f,k=a.right*f,f=a.bottom*f,m=a.left*d,c=a.top*d,h=a.right*d,d=a.bottom*d;this.Qb=m-u;this.Rb=c+e;this.Tb=h-u;this.Ub=c+k;this.Eb=h-f;this.Fb=d+k;this.Cb=m-f;this.Db=d+e}};n.prototype.offset=function(a,b){this.Qb+=
a;this.Rb+=b;this.Tb+=a;this.Ub+=b;this.Eb+=a;this.Fb+=b;this.Cb+=a;this.Db+=b;return this};var w=0,q=0;n.prototype.vj=function(a){l(this.Qb,this.Tb,this.Eb,this.Cb);a.left=w;a.right=q;l(this.Rb,this.Ub,this.Fb,this.Db);a.top=w;a.bottom=q};n.prototype.$b=function(a,b){var f=this.Qb,d=this.Rb,e=this.Tb-f,u=this.Ub-d,k=this.Eb-f,m=this.Fb-d,c=a-f,h=b-d,w=e*e+u*u,t=e*k+u*m,u=e*c+u*h,g=k*k+m*m,q=k*c+m*h,n=1/(w*g-t*t),e=(g*u-t*q)*n,w=(w*q-t*u)*n;if(0<=e&&0<w&&1>e+w)return!0;e=this.Cb-f;u=this.Db-d;w=e*
e+u*u;t=e*k+u*m;u=e*c+u*h;n=1/(w*g-t*t);e=(g*u-t*q)*n;w=(w*q-t*u)*n;return 0<=e&&0<w&&1>e+w};sa=n;ta=function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);return a};ua=function(a,b){var f,d;b=N(b);if(!(0>b||b>=a.length)){f=b;for(d=a.length-1;f<d;f++)a[f]=a[f+1];va(a,d)}};va=function(a,b){a.length=b};R=function(a){va(a,0)};wa=function(a,b){R(a);var f,d;f=0;for(d=b.length;f<d;++f)a[f]=b[f]};xa=function(a,b){a.push.apply(a,b)};ya=function(a,b){var f,d;f=0;for(d=a.length;f<d;++f)if(a[f]===b)return f;
return-1};za=function(a,b){var f=ya(a,b);-1!==f&&ua(a,f)};Ca=function(a,b,f){return a<b?b:a>f?f:a};T=function(a){return a/(180/pa)};Da=function(a){return 180/pa*a};Ea=function(a){a%=360;0>a&&(a+=360);return a};Fa=function(a){a%=2*pa;0>a&&(a+=2*pa);return a};Ga=function(a){return Ea(Da(a))};Ha=function(a){return Fa(T(a))};Ia=function(a,b,f,d){return Math.atan2(d-b,f-a)};Ja=function(a,b){if(a===b)return 0;var f=Math.sin(a),d=Math.cos(a),e=Math.sin(b),u=Math.cos(b),f=f*e+d*u;return 1<=f?0:-1>=f?pa:Math.acos(f)};
Ka=function(a,b,f){var d=Math.sin(a),e=Math.cos(a),u=Math.sin(b),k=Math.cos(b);return Math.acos(d*u+e*k)>f?0<e*u-d*k?Fa(a+f):Fa(a-f):Fa(b)};La=function(a,b){var f=Math.sin(a),d=Math.cos(a),e=Math.sin(b),u=Math.cos(b);return 0>=d*e-f*u};Ma=function(a,b,f,d){a=f-a;b=d-b;return Math.sqrt(a*a+b*b)};Oa=function(a,b){return!a!==!b};Pa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Qa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var O=+new Date;Ra=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-O};var m=!1,t=m=!1,B=!1;"undefined"!==typeof window&&(m=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),m=!m&&/safari/i.test(navigator.userAgent),t=/(iphone|ipod|ipad)/i.test(navigator.userAgent),B=window.c2ejecta);
var ga=!m&&!B&&!t&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.xc()?!1:ga?this.mc.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(ga)this.mc.has(a)||(this.mc.add(a),this.Tc=!1);else{var b=a.toString(),f=this.items;f?f.hasOwnProperty(b)||(f[b]=a,this.nf++,this.Tc=!1):(this.items={},this.items[b]=a,this.nf=1,this.Tc=!1)}};p.prototype.remove=function(a){if(!this.xc())if(ga)this.mc.has(a)&&(this.mc["delete"](a),
this.Tc=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.nf--,this.Tc=!1)}};p.prototype.clear=function(){this.xc()||(ga?this.mc.clear():(this.items=null,this.nf=0),R(this.Fe),this.Tc=!0)};p.prototype.xc=function(){return 0===this.count()};p.prototype.count=function(){return ga?this.mc.size:this.nf};var X=null,da=0;p.prototype.Op=function(){if(!this.Tc){if(ga)R(this.Fe),X=this.Fe,da=0,this.mc.forEach(v),X=null,da=0;else{var a=this.Fe;R(a);var b,f=0,d=this.items;
if(d)for(b in d)d.hasOwnProperty(b)&&(a[f++]=d[b])}this.Tc=!0}};p.prototype.pd=function(){this.Op();return this.Fe};x=p;new x;Sa=function(a,b){ga?Ta(a,b.mc):Ua(a,b.pd())};Ta=function(a,b){var f,d,e,u;d=f=0;for(e=a.length;f<e;++f)u=a[f],b.has(u)||(a[d++]=u);va(a,d)};Ua=function(a,b){var f,d,e,u;d=f=0;for(e=a.length;f<e;++f)u=a[f],-1===ya(b,u)&&(a[d++]=u);va(a,d)};r.prototype.add=function(a){this.y=a-this.jh;this.Ug=this.W+this.y;this.jh=this.Ug-this.W-this.y;this.W=this.Ug};r.prototype.reset=function(){this.W=
this.Ug=this.y=this.jh=0};Va=r;Wa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};h.prototype.Gf=function(a){this.gl=a;this.Lg=a.length/2;this.ve.length=a.length;this.kh=this.lh=-1;this.yj=0};h.prototype.Po=function(){return!this.gl.length};h.prototype.Ja=function(){for(var a=this.ve,b=a[0],f=b,d=a[1],e=d,u,k,m=1,c=this.Lg;m<c;++m)k=2*m,u=a[k],k=a[k+1],u<b&&(b=u),u>f&&(f=u),k<d&&(d=k),k>e&&(e=k);this.rj=b;this.sj=f;this.tj=d;this.qj=e};h.prototype.Ff=function(a,b,f){this.ve.length=
8;this.Lg=4;var d=this.ve;d[0]=a.left-b;d[1]=a.top-f;d[2]=a.right-b;d[3]=a.top-f;d[4]=a.right-b;d[5]=a.bottom-f;d[6]=a.left-b;d[7]=a.bottom-f;this.lh=a.right-a.left;this.kh=a.bottom-a.top;this.Ja()};h.prototype.Dm=function(a,b,f){if(this.lh!==a||this.kh!==b||this.yj!==f){this.lh=a;this.kh=b;this.yj=f;var d,e,u,k,m,c=0,h=1,w=this.gl,t=this.ve;0!==f&&(c=Math.sin(f),h=Math.cos(f));f=0;for(u=this.Lg;f<u;f++)d=2*f,e=d+1,k=w[d]*a,m=w[e]*b,t[d]=k*h-m*c,t[e]=m*h+k*c;this.Ja()}};h.prototype.$b=function(a,
b){var f=this.ve;if(a===f[0]&&b===f[1])return!0;var d,e,u,k=this.Lg,m=this.rj-110,c=this.tj-101,h=this.sj+131,w=this.qj+120,t,g,q=0,n=0;for(d=0;d<k;d++)e=2*d,u=(d+1)%k*2,t=f[e],e=f[e+1],g=f[u],u=f[u+1],ra(m,c,a,b,t,e,g,u)&&q++,ra(h,w,a,b,t,e,g,u)&&n++;return 1===q%2||1===n%2};Xa=h;b.prototype.bd=function(a,b,f){var d;d=this.cells[a];return d?(d=d[b])?d:f?(d=c(this,a,b),this.cells[a][b]=d):null:f?(d=c(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};b.prototype.Ka=function(a){return N(a/this.ph)};
b.prototype.La=function(a){return N(a/this.oh)};b.prototype.update=function(a,b,f){var d,e,u,k,m;if(b)for(d=b.left,e=b.right;d<=e;++d)for(u=b.top,k=b.bottom;u<=k;++u)if(!f||!f.$b(d,u))if(m=this.bd(d,u,!1))m.remove(a),m.xc()&&(m.qa.clear(),1E3>P.length&&P.push(m),this.cells[d][u]=null);if(f)for(d=f.left,e=f.right;d<=e;++d)for(u=f.top,k=f.bottom;u<=k;++u)b&&b.$b(d,u)||this.bd(d,u,!0).Xh(a)};b.prototype.il=function(a,b){var f,d,e,u,k,m;f=this.Ka(a.left);e=this.La(a.top);d=this.Ka(a.right);for(k=this.La(a.bottom);f<=
d;++f)for(u=e;u<=k;++u)(m=this.bd(f,u,!1))&&m.dump(b)};Ya=b;e.prototype.bd=function(a,b,d){var e;e=this.cells[a];return e?(e=e[b])?e:d?(e=f(this,a,b),this.cells[a][b]=e):null:d?(e=f(this,a,b),this.cells[a]={},this.cells[a][b]=e):null};e.prototype.Ka=function(a){return N(a/this.ph)};e.prototype.La=function(a){return N(a/this.oh)};e.prototype.update=function(a,b,f){var d,e,u,k,m;if(b)for(d=b.left,e=b.right;d<=e;++d)for(u=b.top,k=b.bottom;u<=k;++u)if(!f||!f.$b(d,u))if(m=this.bd(d,u,!1))m.remove(a),m.xc()&&
(m.reset(),1E3>y.length&&y.push(m),this.cells[d][u]=null);if(f)for(d=f.left,e=f.right;d<=e;++d)for(u=f.top,k=f.bottom;u<=k;++u)b&&b.$b(d,u)||this.bd(d,u,!0).Xh(a)};e.prototype.il=function(a,b,f,d,e){var u,k;a=this.Ka(a);b=this.La(b);f=this.Ka(f);for(u=this.La(d);a<=f;++a)for(d=b;d<=u;++d)(k=this.bd(a,d,!1))&&k.dump(e)};e.prototype.Vo=function(a){var b,f,d,e,u;b=a.left;d=a.top;f=a.right;for(e=a.bottom;b<=f;++b)for(a=d;a<=e;++a)if(u=this.bd(b,a,!1))u.je=!1};Za=e;var P=[];a.prototype.xc=function(){return this.qa.xc()};
a.prototype.Xh=function(a){this.qa.add(a)};a.prototype.remove=function(a){this.qa.remove(a)};a.prototype.dump=function(a){xa(a,this.qa.pd())};aa=a;var y=[];k.prototype.xc=function(){if(!this.qa.length)return!0;if(this.qa.length>this.jc.count())return!1;this.Hh();return!0};k.prototype.Xh=function(a){this.jc.contains(a)?(this.jc.remove(a),this.jc.xc()&&(this.Ke=!1)):this.qa.length?(this.qa[this.qa.length-1].gc()>a.gc()&&(this.je=!1),this.qa.push(a)):(this.qa.push(a),this.je=!0)};k.prototype.remove=
function(a){this.jc.add(a);this.Ke=!0;30<=this.jc.count()&&this.Hh()};k.prototype.Hh=function(){this.Ke&&(this.jc.count()===this.qa.length?this.reset():(Sa(this.qa,this.jc),this.jc.clear(),this.Ke=!1))};k.prototype.pn=function(){this.je||(this.qa.sort(d),this.je=!0)};k.prototype.reset=function(){R(this.qa);this.je=!0;this.jc.clear();this.Ke=!1};k.prototype.dump=function(a){this.Hh();this.pn();this.qa.length&&a.push(this.qa)};ba=k;var D="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
$a=function(a){return 0>=a||11<=a?"source-over":D[a-1]};ab=function(a,b,f){if(f)switch(a.Ba=f.ONE,a.wa=f.ONE_MINUS_SRC_ALPHA,b){case 1:a.Ba=f.ONE;a.wa=f.ONE;break;case 3:a.Ba=f.ONE;a.wa=f.ZERO;break;case 4:a.Ba=f.ONE_MINUS_DST_ALPHA;a.wa=f.ONE;break;case 5:a.Ba=f.DST_ALPHA;a.wa=f.ZERO;break;case 6:a.Ba=f.ZERO;a.wa=f.SRC_ALPHA;break;case 7:a.Ba=f.ONE_MINUS_DST_ALPHA;a.wa=f.ZERO;break;case 8:a.Ba=f.ZERO;a.wa=f.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ba=f.DST_ALPHA;a.wa=f.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ba=
f.ONE_MINUS_DST_ALPHA,a.wa=f.SRC_ALPHA}};bb=function(a){return Math.round(1E6*a)/1E6};cb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};db=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||cb(a.tagName,"canvas")?!0:!1}})();var Ub="undefined"!==typeof Float32Array?Float32Array:Array;function Vb(g){var n=new Ub(3);g&&(n[0]=g[0],n[1]=g[1],n[2]=g[2]);return n}
function Y(g){var n=new Ub(16);g&&(n[0]=g[0],n[1]=g[1],n[2]=g[2],n[3]=g[3],n[4]=g[4],n[5]=g[5],n[6]=g[6],n[7]=g[7],n[8]=g[8],n[9]=g[9],n[10]=g[10],n[11]=g[11],n[12]=g[12],n[13]=g[13],n[14]=g[14],n[15]=g[15]);return n}function Wb(g,n){n[0]=g[0];n[1]=g[1];n[2]=g[2];n[3]=g[3];n[4]=g[4];n[5]=g[5];n[6]=g[6];n[7]=g[7];n[8]=g[8];n[9]=g[9];n[10]=g[10];n[11]=g[11];n[12]=g[12];n[13]=g[13];n[14]=g[14];n[15]=g[15]}
function Xb(g,n){var l=n[0],p=n[1];n=n[2];g[0]*=l;g[1]*=l;g[2]*=l;g[3]*=l;g[4]*=p;g[5]*=p;g[6]*=p;g[7]*=p;g[8]*=n;g[9]*=n;g[10]*=n;g[11]*=n}
function Yb(g,n,l,p){p||(p=Y());var v,r,h,b,e,c,a,f,k=g[0],d=g[1];g=g[2];r=l[0];h=l[1];v=l[2];l=n[1];c=n[2];k===n[0]&&d===l&&g===c?(g=p,g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1):(l=k-n[0],c=d-n[1],a=g-n[2],f=1/Math.sqrt(l*l+c*c+a*a),l*=f,c*=f,a*=f,n=h*a-v*c,v=v*l-r*a,r=r*c-h*l,(f=Math.sqrt(n*n+v*v+r*r))?(f=1/f,n*=f,v*=f,r*=f):r=v=n=0,h=c*r-a*v,b=a*n-l*r,e=l*v-c*n,(f=Math.sqrt(h*h+b*b+e*e))?(f=1/f,h*=f,b*=f,e*=f):e=b=h=0,
p[0]=n,p[1]=h,p[2]=l,p[3]=0,p[4]=v,p[5]=b,p[6]=c,p[7]=0,p[8]=r,p[9]=e,p[10]=a,p[11]=0,p[12]=-(n*k+v*d+r*g),p[13]=-(h*k+b*d+e*g),p[14]=-(l*k+c*d+a*g),p[15]=1)}
(function(){function g(b,e,c){this.yc=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.N=!!c;this.ng=this.ef=!1;this.xh=0;this.dh=1;this.cj=1E3;this.Xp=(this.cj-this.dh)/32768;this.mh=Vb([0,0,100]);this.vk=Vb([0,0,0]);this.Tl=Vb([0,1,0]);this.Sf=Vb([1,1,1]);this.Hj=!0;this.Fg=Y();this.kb=Y();this.ji=Y();this.wh=Y();this.e=b;this.version=0===this.e.getParameter(this.e.VERSION).indexOf("WebGL 2")?2:1;this.bk()}function n(b,e,c){this.e=b;this.Hf=e;
this.name=c;this.rb=b.getAttribLocation(e,"aPos");this.kd=b.getAttribLocation(e,"aTex");this.tk=b.getUniformLocation(e,"matP");this.Bg=b.getUniformLocation(e,"matMV");this.oe=b.getUniformLocation(e,"opacity");this.li=b.getUniformLocation(e,"colorFill");this.uk=b.getUniformLocation(e,"samplerFront");this.sf=b.getUniformLocation(e,"samplerBack");this.Ld=b.getUniformLocation(e,"destStart");this.Kd=b.getUniformLocation(e,"destEnd");this.uf=b.getUniformLocation(e,"seconds");this.ni=b.getUniformLocation(e,
"pixelWidth");this.mi=b.getUniformLocation(e,"pixelHeight");this.rf=b.getUniformLocation(e,"layerScale");this.qf=b.getUniformLocation(e,"layerAngle");this.vf=b.getUniformLocation(e,"viewOrigin");this.tf=b.getUniformLocation(e,"scrollPos");this.Do=!!(this.ni||this.mi||this.uf||this.sf||this.Ld||this.Kd||this.rf||this.qf||this.vf||this.tf);this.Dk=this.Ek=-999;this.Eg=1;this.zk=this.yk=0;this.Bk=this.xk=this.wk=1;this.Hk=this.Gk=this.Fk=this.Jk=this.Ik=this.Ak=0;this.ii=[];this.Ck=Y();this.oe&&b.uniform1f(this.oe,
1);this.li&&b.uniform4f(this.li,1,1,1,1);this.uk&&b.uniform1i(this.uk,0);this.sf&&b.uniform1i(this.sf,1);this.Ld&&b.uniform2f(this.Ld,0,0);this.Kd&&b.uniform2f(this.Kd,1,1);this.rf&&b.uniform1f(this.rf,1);this.qf&&b.uniform1f(this.qf,0);this.vf&&b.uniform2f(this.vf,0,0);this.tf&&b.uniform2f(this.tf,0,0);this.uf&&b.uniform1f(this.uf,0);this.Ed=!1}function l(b,e){return b[0]===e[0]&&b[1]===e[1]&&b[2]===e[2]&&b[3]===e[3]&&b[4]===e[4]&&b[5]===e[5]&&b[6]===e[6]&&b[7]===e[7]&&b[8]===e[8]&&b[9]===e[9]&&
b[10]===e[10]&&b[11]===e[11]&&b[12]===e[12]&&b[13]===e[13]&&b[14]===e[14]&&b[15]===e[15]}function p(b,e){this.type=b;this.i=e;this.e=e.e;this.hc=this.Ia=this.Xk=0;this.B=this.wb=null;this.yl=[]}var v=Y();g.prototype.bk=function(){var b=this.e,e;this.nk=1;this.Hd=this.gd=null;this.Zf=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.N?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):
b.disable(b.DEPTH_TEST);this.ok=b.ONE;this.mk=b.ONE_MINUS_SRC_ALPHA;this.ah=new Float32Array(8E3*(this.N?3:2));this.Vg=new Float32Array(16E3);this.bl=new Float32Array(32E3);this.wi=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.wi);b.bufferData(b.ARRAY_BUFFER,this.bl.byteLength,b.DYNAMIC_DRAW);this.Qf=Array(4);this.Lf=Array(4);for(e=0;4>e;e++)this.Qf[e]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.Qf[e]),b.bufferData(b.ARRAY_BUFFER,this.ah.byteLength,b.DYNAMIC_DRAW),this.Lf[e]=b.createBuffer(),
b.bindBuffer(b.ARRAY_BUFFER,this.Lf[e]),b.bufferData(b.ARRAY_BUFFER,this.Vg.byteLength,b.DYNAMIC_DRAW);this.qc=0;this.Fo=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Fo);for(var c=new Uint16Array(12E3),a=e=0;12E3>e;)c[e++]=a,c[e++]=a+1,c[e++]=a+2,c[e++]=a,c[e++]=a+2,c[e++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,c,b.STATIC_DRAW);this.xi=this.De=this.Kc=0;this.ca=[];e=this.N?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Re({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.ca.push(c);c=this.Re({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ca.push(c);c=this.Re({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.ca.push(c);c=this.Re({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.ca.push(c);for(var f in Zb)Zb.hasOwnProperty(f)&&this.ca.push(this.Re(Zb[f],e,f));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.Sc=[];this.pc=0;this.Ga=!1;this.Ej=this.of=-1;this.ae=null;this.Gh=b.createFramebuffer();this.ag=this.Mg=null;this.oj=!1;this.N&&(this.ag=b.createRenderbuffer());this.od=Vb([0,0,0]);this.Kk=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Kk&&(this.Kk=2048);this.Oa(0)};n.prototype.Zi=function(b){l(this.Ck,b)||(Wb(b,this.Ck),this.e.uniformMatrix4fv(this.Bg,
!1,b))};g.prototype.Re=function(b,e,c){var a=this.e,f=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(f,b.src);a.compileShader(f);if(!a.getShaderParameter(f,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(f),a.deleteShader(f),Error("error compiling fragment shader: "+b);var k=a.createShader(a.VERTEX_SHADER);a.shaderSource(k,e);a.compileShader(k);if(!a.getShaderParameter(k,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(k),a.deleteShader(f),a.deleteShader(k),Error("error compiling vertex shader: "+b);e=
a.createProgram();a.attachShader(e,f);a.attachShader(e,k);a.linkProgram(e);if(!a.getProgramParameter(e,a.LINK_STATUS))throw b=a.getProgramInfoLog(e),a.deleteShader(f),a.deleteShader(k),a.deleteProgram(e),Error("error linking shader program: "+b);a.useProgram(e);a.deleteShader(f);a.deleteShader(k);f=new n(a,e,c);f.Eh=b.Eh||0;f.Fh=b.Fh||0;f.Dj=!!b.Dj;f.Lb=!!b.Lb;f.kj=!!b.kj;f.C=b.C||[];b=0;for(k=f.C.length;b<k;b++)f.C[b][1]=a.getUniformLocation(e,f.C[b][0]),f.ii.push(0),a.uniform1f(f.C[b][1],0);return f};
g.prototype.Qh=function(b){var e,c;e=0;for(c=this.ca.length;e<c;e++)if(this.ca[e].name===b)return e;return-1};g.prototype.fl=function(b,e,c){var a=this.kb,f=this.Fg,k=[0,0,0,0,0,0,0,0];k[0]=a[0]*b+a[4]*e+a[12];k[1]=a[1]*b+a[5]*e+a[13];k[2]=a[2]*b+a[6]*e+a[14];k[3]=a[3]*b+a[7]*e+a[15];k[4]=f[0]*k[0]+f[4]*k[1]+f[8]*k[2]+f[12]*k[3];k[5]=f[1]*k[0]+f[5]*k[1]+f[9]*k[2]+f[13]*k[3];k[6]=f[2]*k[0]+f[6]*k[1]+f[10]*k[2]+f[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],c[0]=(.5*k[4]+
.5)*this.width,c[1]=(.5*k[5]+.5)*this.height)};g.prototype.Qd=function(b,e,c){if(this.width!==b||this.height!==e||c){this.Zc();c=this.e;this.width=b;this.height=e;c.viewport(0,0,b,e);Yb(this.mh,this.vk,this.Tl,this.kb);if(this.N){var a=-b/2;b=b/2;var f=e/2;e=-e/2;var k=this.dh,d=this.cj,h=this.Fg;h||(h=Y());var g=b-a,n=e-f,m=d-k;h[0]=2/g;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/n;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/m;h[11]=0;h[12]=-(a+b)/g;h[13]=-(e+f)/n;h[14]=-(d+k)/m;h[15]=1;this.Sf[0]=1;this.Sf[1]=
1}else e=b/e,a=this.dh,b=this.cj,h=this.Fg,d=a*Math.tan(45*Math.PI/360),e*=d,f=-e,k=-d,h||(h=Y()),g=e-f,n=d-k,m=b-a,h[0]=2*a/g,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*a/n,h[6]=0,h[7]=0,h[8]=(e+f)/g,h[9]=(d+k)/n,h[10]=-(b+a)/m,h[11]=-1,h[12]=0,h[13]=0,h[14]=-(b*a*2)/m,h[15]=0,a=[0,0],b=[0,0],this.fl(0,0,a),this.fl(1,1,b),this.Sf[0]=1/(b[0]-a[0]),this.Sf[1]=-1/(b[1]-a[1]);a=0;for(b=this.ca.length;a<b;a++)f=this.ca[a],f.Ed=!1,f.tk&&(c.useProgram(f.Hf),c.uniformMatrix4fv(f.tk,!1,this.Fg));c.useProgram(this.ca[this.of].Hf);
c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.Hd=this.gd=null;this.ag&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Gh),c.bindRenderbuffer(c.RENDERBUFFER,this.ag),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.oj||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.ag),this.oj=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),
this.Mg=null)}};g.prototype.lc=function(){Yb(this.mh,this.vk,this.Tl,this.kb);Xb(this.kb,this.Sf)};g.prototype.translate=function(b,e){if(0!==b||0!==e){this.od[0]=b;this.od[1]=e;this.od[2]=0;var c=this.kb,a=this.od,f=a[0],k=a[1],a=a[2];c[12]=c[0]*f+c[4]*k+c[8]*a+c[12];c[13]=c[1]*f+c[5]*k+c[9]*a+c[13];c[14]=c[2]*f+c[6]*k+c[10]*a+c[14];c[15]=c[3]*f+c[7]*k+c[11]*a+c[15]}};g.prototype.scale=function(b,e){if(1!==b||1!==e)this.od[0]=b,this.od[1]=e,this.od[2]=1,Xb(this.kb,this.od)};g.prototype.Ji=function(b){if(0!==
b){var e=this.kb,c,a=Math.sin(b);b=Math.cos(b);var f=e[0],k=e[1],d=e[2],h=e[3],g=e[4],n=e[5],m=e[6],t=e[7];c?e!==c&&(c[8]=e[8],c[9]=e[9],c[10]=e[10],c[11]=e[11],c[12]=e[12],c[13]=e[13],c[14]=e[14],c[15]=e[15]):c=e;c[0]=f*b+g*a;c[1]=k*b+n*a;c[2]=d*b+m*a;c[3]=h*b+t*a;c[4]=f*-a+g*b;c[5]=k*-a+n*b;c[6]=d*-a+m*b;c[7]=h*-a+t*b}};g.prototype.Wb=function(){if(!l(this.ji,this.kb)){var b=this.$a();b.type=5;b.B?Wb(this.kb,b.B):b.B=Y(this.kb);Wb(this.kb,this.ji);this.Ga=!1}};g.prototype.Qg=function(b){this.N&&
(32760<b&&(b=32760),this.xh=this.mh[2]-this.dh-b*this.Xp)};p.prototype.Xm=function(){var b=this.e,e=this.i;0!==this.Ia?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),b.bindFramebuffer(b.FRAMEBUFFER,e.Gh),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),e.ng=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),e.ng=!1)};p.prototype.an=function(){this.e.bindTexture(this.e.TEXTURE_2D,
this.wb)};p.prototype.bn=function(){var b=this.e;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.wb);b.activeTexture(b.TEXTURE0)};p.prototype.Ym=function(){var b=this.Xk,e=this.i;e.Zf=b;e=e.ae;e.oe&&e.Eg!==b&&(e.Eg=b,this.e.uniform1f(e.oe,b))};p.prototype.Sm=function(){this.e.drawElements(this.e.TRIANGLES,this.hc,this.e.UNSIGNED_SHORT,this.Ia)};p.prototype.Um=function(){this.e.blendFunc(this.Ia,this.hc)};p.prototype.cn=function(){var b,e,c,a=this.i.ca,f=this.i.Ej;b=0;for(e=a.length;b<
e;b++)c=a[b],b===f&&c.Bg?(c.Zi(this.B),c.Ed=!0):c.Ed=!1;Wb(this.B,this.i.wh)};p.prototype.Tm=function(){var b=this.e,e=this.i;this.wb?(e.Hd===this.wb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,null),e.Hd=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,e.Gh),e.ng||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.wb,0)):(e.N||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};
p.prototype.Pm=function(){var b=this.e,e=this.Ia;0===e?(b.clearColor(this.B[0],this.B[1],this.B[2],this.B[3]),b.clear(b.COLOR_BUFFER_BIT)):1===e?(b.enable(b.SCISSOR_TEST),b.scissor(this.B[0],this.B[1],this.B[2],this.B[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};p.prototype.Wm=function(){var b=this.e;0!==this.Ia?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};p.prototype.Rm=function(){var b=this.e,e=this.i;e.N&&b.disable(b.DEPTH_TEST);
var c=e.ca[1];b.useProgram(c.Hf);!c.Ed&&c.Bg&&(c.Zi(e.wh),c.Ed=!0);b.enableVertexAttribArray(c.rb);b.bindBuffer(b.ARRAY_BUFFER,e.wi);b.vertexAttribPointer(c.rb,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.Ia/4,this.hc);c=e.ae;b.useProgram(c.Hf);0<=c.rb&&(b.enableVertexAttribArray(c.rb),b.bindBuffer(b.ARRAY_BUFFER,e.Qf[e.qc]),b.vertexAttribPointer(c.rb,e.N?3:2,b.FLOAT,!1,0,0));0<=c.kd&&(b.enableVertexAttribArray(c.kd),b.bindBuffer(b.ARRAY_BUFFER,e.Lf[e.qc]),b.vertexAttribPointer(c.kd,2,b.FLOAT,!1,
0,0));e.N&&b.enable(b.DEPTH_TEST)};p.prototype.Zm=function(){var b=this.e,e=this.i,c=e.ca[this.Ia];e.Ej=this.Ia;e.ae=c;b.useProgram(c.Hf);!c.Ed&&c.Bg&&(c.Zi(e.wh),c.Ed=!0);c.oe&&c.Eg!==e.Zf&&(c.Eg=e.Zf,b.uniform1f(c.oe,e.Zf));0<=c.rb&&(b.enableVertexAttribArray(c.rb),b.bindBuffer(b.ARRAY_BUFFER,e.Qf[e.qc]),b.vertexAttribPointer(c.rb,e.N?3:2,b.FLOAT,!1,0,0));0<=c.kd&&(b.enableVertexAttribArray(c.kd),b.bindBuffer(b.ARRAY_BUFFER,e.Lf[e.qc]),b.vertexAttribPointer(c.kd,2,b.FLOAT,!1,0,0))};p.prototype.Vm=
function(){var b=this.B;this.e.uniform4f(this.i.ae.li,b[0],b[1],b[2],b[3])};p.prototype.$m=function(){var b,e,c=this.i.ae,a=this.e;b=this.B;c.sf&&this.i.Hd!==this.wb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.wb),this.i.Hd=this.wb,a.activeTexture(a.TEXTURE0));var f=b[0];c.ni&&f!==c.Ek&&(c.Ek=f,a.uniform1f(c.ni,f));f=b[1];c.mi&&f!==c.Dk&&(c.Dk=f,a.uniform1f(c.mi,f));f=b[2];e=b[3];!c.Ld||f===c.yk&&e===c.zk||(c.yk=f,c.zk=e,a.uniform2f(c.Ld,f,e));f=b[4];e=b[5];!c.Kd||f===c.wk&&e===
c.xk||(c.wk=f,c.xk=e,a.uniform2f(c.Kd,f,e));f=b[6];c.rf&&f!==c.Bk&&(c.Bk=f,a.uniform1f(c.rf,f));f=b[7];c.qf&&f!==c.Ak&&(c.Ak=f,a.uniform1f(c.qf,f));f=b[8];e=b[9];!c.vf||f===c.Ik&&e===c.Jk||(c.Ik=f,c.Jk=e,a.uniform2f(c.vf,f,e));f=b[10];e=b[11];!c.tf||f===c.Fk&&e===c.Gk||(c.Fk=f,c.Gk=e,a.uniform2f(c.tf,f,e));f=b[12];c.uf&&f!==c.Hk&&(c.Hk=f,a.uniform1f(c.uf,f));if(c.C.length)for(b=0,e=c.C.length;b<e;b++)f=this.yl[b],f!==c.ii[b]&&(c.ii[b]=f,a.uniform1f(c.C[b][1],f))};g.prototype.$a=function(){this.pc===
this.Sc.length&&this.Sc.push(new p(0,this));return this.Sc[this.pc++]};g.prototype.Zc=function(){if(0!==this.pc&&!this.e.isContextLost()){var b=this.e;0<this.xi&&(b.bindBuffer(b.ARRAY_BUFFER,this.wi),b.bufferSubData(b.ARRAY_BUFFER,0,this.bl.subarray(0,this.xi)),e&&0<=e.rb&&"<point>"===e.name&&b.vertexAttribPointer(e.rb,4,b.FLOAT,!1,0,0));if(0<this.Kc){var e=this.ae;b.bindBuffer(b.ARRAY_BUFFER,this.Qf[this.qc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.ah.subarray(0,this.Kc));e&&0<=e.rb&&"<point>"!==e.name&&
b.vertexAttribPointer(e.rb,this.N?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.Lf[this.qc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Vg.subarray(0,this.De));e&&0<=e.kd&&"<point>"!==e.name&&b.vertexAttribPointer(e.kd,2,b.FLOAT,!1,0,0)}for(var c,b=0,e=this.pc;b<e;b++)switch(c=this.Sc[b],c.type){case 1:c.Sm();break;case 2:c.an();break;case 3:c.Ym();break;case 4:c.Um();break;case 5:c.cn();break;case 6:c.Tm();break;case 7:c.Pm();break;case 8:c.Rm();break;case 9:c.Zm();break;case 10:c.$m();break;case 11:c.bn();
break;case 12:c.Vm();break;case 13:c.Wm();break;case 14:c.Xm()}this.xi=this.De=this.Kc=this.pc=0;this.ng=this.Ga=!1;this.qc++;4<=this.qc&&(this.qc=0)}};g.prototype.ze=function(b){if(b!==this.nk&&!this.ef){var e=this.$a();e.type=3;this.nk=e.Xk=b;this.Ga=!1}};g.prototype.lb=function(b){if(b!==this.gd){var e=this.$a();e.type=2;this.gd=e.wb=b;this.Ga=!1}};g.prototype.Fc=function(b,e){if((b!==this.ok||e!==this.mk)&&!this.ef){var c=this.$a();c.type=4;c.Ia=b;c.hc=e;this.ok=b;this.mk=e;this.Ga=!1}};g.prototype.pl=
function(){this.Fc(this.e.ONE,this.e.ONE_MINUS_SRC_ALPHA)};g.prototype.we=function(b,e,c,a,f,k,d,h){15992<=this.Kc&&this.Zc();var g=this.Kc,n=this.De,m=this.ah,t=this.Vg,B=this.xh;if(this.Ga)this.Sc[this.pc-1].hc+=6;else{var l=this.$a();l.type=1;l.Ia=this.N?g:g/2*3;l.hc=6;this.Ga=!0}this.N?(m[g++]=b,m[g++]=e,m[g++]=B,m[g++]=c,m[g++]=a,m[g++]=B,m[g++]=f,m[g++]=k,m[g++]=B,m[g++]=d,m[g++]=h,m[g++]=B):(m[g++]=b,m[g++]=e,m[g++]=c,m[g++]=a,m[g++]=f,m[g++]=k,m[g++]=d,m[g++]=h);t[n++]=0;t[n++]=0;t[n++]=1;
t[n++]=0;t[n++]=1;t[n++]=1;t[n++]=0;t[n++]=1;this.Kc=g;this.De=n};g.prototype.Pd=function(b,e,c,a,f,k,d,h,g){15992<=this.Kc&&this.Zc();var n=this.Kc,m=this.De,t=this.ah,B=this.Vg,l=this.xh;if(this.Ga)this.Sc[this.pc-1].hc+=6;else{var p=this.$a();p.type=1;p.Ia=this.N?n:n/2*3;p.hc=6;this.Ga=!0}var p=g.left,r=g.top,v=g.right;g=g.bottom;this.N?(t[n++]=b,t[n++]=e,t[n++]=l,t[n++]=c,t[n++]=a,t[n++]=l,t[n++]=f,t[n++]=k,t[n++]=l,t[n++]=d,t[n++]=h,t[n++]=l):(t[n++]=b,t[n++]=e,t[n++]=c,t[n++]=a,t[n++]=f,t[n++]=
k,t[n++]=d,t[n++]=h);B[m++]=p;B[m++]=r;B[m++]=v;B[m++]=r;B[m++]=v;B[m++]=g;B[m++]=p;B[m++]=g;this.Kc=n;this.De=m};g.prototype.Oa=function(b){if(this.of!==b){if(!this.ca[b]){if(0===this.of)return;b=0}var e=this.$a();e.type=9;this.of=e.Ia=b;this.Ga=!1}};g.prototype.Cf=function(b){b=this.ca[b];return!(!b.Ld&&!b.Kd)};g.prototype.Ai=function(b){b=this.ca[b];return!!(b.Ld||b.Kd||b.Dj)};g.prototype.yi=function(b){return this.ca[b].Lb};g.prototype.qp=function(b){b=this.ca[b];return 0!==b.Eh||0!==b.Fh};g.prototype.ko=
function(b){return this.ca[b].Eh};g.prototype.lo=function(b){return this.ca[b].Fh};g.prototype.mo=function(b,e){return this.ca[b].C[e][2]};g.prototype.Kg=function(b){return this.ca[b].kj};g.prototype.Ae=function(b,e,c,a,f,k,d,h,g,n,m,t,B,l,p){var r=this.ca[this.of],v,y;if(r.Do||p.length){v=this.$a();v.type=10;v.B?Wb(this.kb,v.B):v.B=Y();y=v.B;y[0]=e;y[1]=c;y[2]=a;y[3]=f;y[4]=k;y[5]=d;y[6]=h;y[7]=g;y[8]=n;y[9]=m;y[10]=t;y[11]=B;y[12]=l;r.sf?v.wb=b:v.wb=null;if(p.length)for(c=v.yl,c.length=p.length,
b=0,e=p.length;b<e;b++)c[b]=p[b];this.Ga=!1}};g.prototype.clear=function(b,e,c,a){var f=this.$a();f.type=7;f.Ia=0;f.B||(f.B=Y());f.B[0]=b;f.B[1]=e;f.B[2]=c;f.B[3]=a;this.Ga=!1};g.prototype.clearRect=function(b,e,c,a){if(!(0>c||0>a)){var f=this.$a();f.type=7;f.Ia=1;f.B||(f.B=Y());f.B[0]=b;f.B[1]=e;f.B[2]=c;f.B[3]=a;this.Ga=!1}};g.prototype.sl=function(b){if(this.N&&(b=!!b,this.ef!==b)){var e=this.$a();e.type=14;e.Ia=b?1:0;this.Ga=!1;this.ef=b;this.Mg=null;this.ef?this.Oa(2):this.Oa(0)}};g.prototype.rl=
function(b){if(this.N){var e=this.$a();e.type=13;e.Ia=b?1:0;this.Ga=!1}};g.prototype.Pj=function(){Wb(this.ji,v);this.lc();this.Wb();var b=this.width/2,e=this.height/2;this.we(-b,e,b,e,b,-e,-b,-e);Wb(v,this.kb);this.Wb()};g.prototype.ql=function(b,e,c){this.Oa(3);var a=this.$a();a.type=12;a.B||(a.B=Y());a.B[0]=b;a.B[1]=e;a.B[2]=c;a.B[3]=1;this.Ga=!1};g.prototype.Ep=function(){this.Oa(0)};g.prototype.up=function(){this.Oa(2)};g.prototype.pp=function(){this.Zc();this.e.flush()};var r=[],h={};g.prototype.Gm=
function(){R(r);h={}};g.prototype.sk=function(b,e,c){var a;a=!1;e=!!e;var f=b.src+","+a+","+e+(a?",undefined":""),k=null;if("undefined"!==typeof b.src&&h.hasOwnProperty(f))return k=h[f],k.Vf++,k;this.Zc();var d=this.e,g=ja(b.width)&&ja(b.height),k=d.createTexture();d.bindTexture(d.TEXTURE_2D,k);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var n=d.RGBA,l=d.RGBA,m=d.UNSIGNED_BYTE;if(c&&!this.yc)switch(c){case 1:l=n=d.RGB;break;case 2:m=d.UNSIGNED_SHORT_4_4_4_4;break;case 3:m=d.UNSIGNED_SHORT_5_5_5_1;
break;case 4:l=n=d.RGB,m=d.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!g&&a){c=document.createElement("canvas");c.width=ka(b.width);c.height=ka(b.height);var t=c.getContext("2d");"undefined"!==typeof t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e);t.drawImage(b,0,0,b.width,b.height,0,0,c.width,c.height);d.texImage2D(d.TEXTURE_2D,0,n,l,m,c)}else d.texImage2D(d.TEXTURE_2D,0,n,l,m,b);a?(d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE));e?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),(g||2<=this.version)&&this.Hj?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR)):(d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST));d.bindTexture(d.TEXTURE_2D,null);this.gd=null;k.wd=b.width;k.vd=b.height;k.Vf=1;k.xj=f;r.push(k);return h[f]=k};g.prototype.eb=function(b,e,c,a,f){this.Zc();var k=this.e;this.yc&&(a=!1);var d=k.createTexture();k.bindTexture(k.TEXTURE_2D,d);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,b,e,0,k.RGBA,a?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);f?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,c?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,c?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.gd=null;d.wd=b;d.vd=e;r.push(d);return d};g.prototype.Yl=function(b,e){var c;this.Zc();var a=this.e;this.yc&&(c=!1);a.bindTexture(a.TEXTURE_2D,e);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,c?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}a.bindTexture(a.TEXTURE_2D,null);this.gd=null};g.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.Vf&&1<b.Vf?b.Vf--:(this.Zc(),b===this.gd&&(this.e.bindTexture(this.e.TEXTURE_2D,null),this.gd=null),b===this.Hd&&(this.e.activeTexture(this.e.TEXTURE1),this.e.bindTexture(this.e.TEXTURE_2D,null),this.e.activeTexture(this.e.TEXTURE0),
this.Hd=null),za(r,b),"undefined"!==typeof b.xj&&delete h[b.xj],this.e.deleteTexture(b)))};g.prototype.tb=function(b){if(b!==this.Mg){var e=this.$a();e.type=6;this.Mg=e.wb=b;this.Ga=!1}};eb=g})();
(function(){function g(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.ed=(this.og=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Gd=!!a.dc;this.Io="undefined"!==typeof window.AppMobi||
this.Gd;this.Ib=!!window.c2cocoonjs;this.Jb=!!window.c2ejecta;this.Ib&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Jb&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Xa=this.Gd||this.Ib||this.Jb;this.gf=
/edge\//i.test(navigator.userAgent);this.yc=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.gf;this.hk=/tizen/i.test(navigator.userAgent);this.$h=/android/i.test(navigator.userAgent)&&!this.hk&&!this.yc&&!this.gf;this.lk=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.yc&&!this.gf;this.Qo=/ipad/i.test(navigator.userAgent);this.tg=this.lk||this.Qo||this.Jb;this.gk=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.yc&&!this.gf;this.Ho=/amazonwebappplatform/i.test(navigator.userAgent);this.Ko=/firefox/i.test(navigator.userAgent);this.pg="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.jk=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Oo=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.lf=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.gi=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.ik=!!window.cr_windows10;this.No=this.jk||this.Oo||this.gi||this.ik;this.Jo=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.ai=this.$h&&!this.gk&&!this.og&&!this.Ko&&!this.Ho&&!this.Xa;this.devicePixelRatio=1;this.hf=this.ed||this.og||this.Io||this.Ib||this.$h||this.tg||this.lf||this.gi||this.Jo||this.hk||this.Jb;this.hf||
(this.hf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.fi=!!(this.tg&&this.ed&&window.webkit);"undefined"===typeof cr_is_preview||this.pg||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.pg=!0);this.canvas=a;this.zj=document.getElementById("c2canvasdiv");this.i=this.e=null;this.Rh="(unavailable)";this.N=!1;this.Ad=0;this.Y=null;this.gg=!1;this.Uk=this.Vk=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Gd&&(window.c2runtime=this);this.pg&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.ai&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.n=this.width;this.m=this.height;this.Xf=this.width;this.Te=this.height;this.me=window.innerWidth;this.le=window.innerHeight;this.J=!0;this.kf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.d=[];this.X=[];this.ki={};this.Kb=[];this.Dh={};this.tc=[];this.He=[];this.Yg=[];this.wm=[];this.xm=[];this.yd={};this.ci=this.cd=!1;this.zc=0;this.bi=this.ei=
!1;this.ac=[];this.ff=!1;this.yg=this.Oi="";this.ka=null;this.Ac="";this.Jf=this.Al=!1;this.fg=[];this.zd=this.de=0;this.Nk=30;this.vh=this.wf=0;this.Nf=1;this.jb=new Va;this.bh=new Va;this.Hg=this.ig=this.dg=this.Mf=this.Jd=this.Ih=this.vg=0;this.sh=null;this.Fj=[];this.Ch=[];this.bg=-1;this.oi=[[]];this.Vi=this.Cg=0;this.Ci(null);this.We=this.Qk=this.yf=0;this.Kf=[];this.Si=this.Di=-1;this.ug=!0;this.Ag=0;this.jf=!1;this.Hp=0;this.Ne=null;this.Mo=!1;this.Sk=new x;this.ri=new x;this.Tk=new x;this.kl=
[];new Xa([]);new Xa([]);this.Zd=[];this.mg={};this.Vc={};this.Rc={};this.Ge={};this.uj={};this.rk=this.xg=this.ga=this.ja=this.qk=this.wg=this.K=null;this.Ee=this.hi=!1;this.Jh=[null,null];this.Dd=0;this.Ec={};this.If=this.hd=null;this.Cl="";this.Gg=[];this.tp()}}function n(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function l(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function v(a,b,f,d){try{var e=indexedDB.open("_C2SaveStates");
e.onupgradeneeded=p;e.onerror=d;e.onsuccess=function(e){e=e.target.result;e.onerror=d;e.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=f}}catch(k){d(k)}}function r(a,b,f){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=p;d.onerror=f;d.onsuccess=function(d){d=d.target.result;d.onerror=f;var e=d.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?b(e.result.data):b(null)}}}catch(e){f(e)}}function h(){K("Reloading for continuous preview");
window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var b,f={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof x||a[b]&&"undefined"!==typeof a[b].kr||"spriteCreatedDestroyCallback"!==b&&(f[b]=a[b]);return f}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;g.prototype.tp=
function(){var a=this;if(this.fi)this.Vn(function(b){a.pf(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.lf?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var f="data.js";if(this.jk||this.lf||this.gi||this.ik)f="data.json";b.open("GET",f,!0);var d=!1;if(!this.Xa&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(e){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(k){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(m){}this.lf?
b.onreadystatechange=function(){4===b.readyState&&a.pf(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.pf(b.response);else if(a.Jb){var f=b.responseText,f=f.substr(f.indexOf("{"));a.pf(JSON.parse(f))}else a.pf(JSON.parse(b.responseText))},b.onerror=function(a){ea("Error requesting "+f+":");ea(a)});b.send()}};g.prototype.Go=function(){var a=this,b,f,d,e,k,m,c,h,g;this.he=(!this.Xa||this.Jb||this.ed)&&this.Qp&&!this.ai;0===this.Ua&&this.tg&&(this.he=!1);this.devicePixelRatio=this.he?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ca();0<this.Ua&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.bp();K("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.i.bk();a.i.Qd(a.i.width,a.i.height,!0);a.ja=null;a.ga=null;a.Jh[0]=null;a.Jh[1]=null;a.cp();a.J=!0;K("[Construct 2] WebGL context restored");
window.cr_setSuspended(!1)},!1);try{this.mn&&(this.Ib||this.Jb||!this.Xa)&&(b={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.e=this.canvas.getContext("webgl2",b)||this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(t){}if(this.e){if(b=this.e.getExtension("WEBGL_debug_renderer_info"))this.Rh=this.e.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.e.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.N&&(this.Rh+=
" [front-to-back enabled]");this.Xa||(this.ya=document.createElement("canvas"),jQuery(this.ya).appendTo(this.canvas.parentNode),this.ya.oncontextmenu=function(){return!1},this.ya.onselectstart=function(){return!1},this.ya.width=Math.round(this.Xf*this.devicePixelRatio),this.ya.height=Math.round(this.Te*this.devicePixelRatio),jQuery(this.ya).css({width:this.Xf+"px",height:this.Te+"px"}),this.dl(),this.vi=this.ya.getContext("2d"));this.i=new eb(this.e,this.hf,this.N);this.i.Qd(this.canvas.width,this.canvas.height);
this.i.Hj=0!==this.dn;this.Y=null;b=0;for(f=this.d.length;b<f;b++)for(k=this.d[b],d=0,e=k.q.length;d<e;d++)c=k.q[d],c.ha=this.i.Qh(c.id),c.Lb=this.i.yi(c.ha),this.Ee=this.Ee||this.i.Cf(c.ha);b=0;for(f=this.Kb.length;b<f;b++){h=this.Kb[b];d=0;for(e=h.q.length;d<e;d++)c=h.q[d],c.ha=this.i.Qh(c.id),c.Lb=this.i.yi(c.ha);h.Vb();d=0;for(e=h.r.length;d<e;d++){g=h.r[d];k=0;for(m=g.q.length;k<m;k++)c=g.q[k],c.ha=this.i.Qh(c.id),c.Lb=this.i.yi(c.ha),this.Ee=this.Ee||this.i.Cf(c.ha);g.Vb()}}}else{if(0<this.Ua&&
this.Gd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Y=AppMobi.canvas.getContext("2d");try{this.Y.samplingMode=this.da?"smooth":"sharp",this.Y.globalScale=1,this.Y.HTML5CompatibilityMode=!0,this.Y.imageSmoothingEnabled=this.da}catch(w){}0!==this.width&&0!==this.height&&(this.Y.width=this.width,this.Y.height=this.height)}this.Y||(this.Ib?(b={antialias:!!this.da,alpha:!0},this.Y=this.canvas.getContext("2d",b)):(b={alpha:!0},this.Y=this.canvas.getContext("2d",
b)),this.Pg(this.Y,this.da));this.vi=this.ya=null}this.Jl=function(b){a.Sd(!1,b)};window==window.top||this.Xa||this.No||this.lf||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Ib&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(K("Reloading for continuous preview"),this.yg="__c2_continuouspreview",
this.Jf=!0),this.hp&&!this.hf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){});this.Xa||(b=function(a){if(db(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",
b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Ua&&this.he&&1<this.devicePixelRatio&&this.setSize(this.ma,this.la,!0);this.Pl();this.Ao();this.go();this.U={}};g.prototype.setSize=function(a,b,f){var d=0,e=0,k=0,m=0,m=0;if(this.me!==a||this.le!==b||f){this.me=a;this.le=b;var c=this.Ua;if((k=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||
document.fullScreen||this.jf)&&!this.ed)||0!==this.Ua||f)k&&0<this.Dd&&(c=this.Dd),f=this.devicePixelRatio,4<=c?(k=this.ma/this.la,a/b>k?(k*=b,5===c?(m=k*f/this.ma,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),k=this.ma*m/f,m=this.la*m/f,d=(a-k)/2,e=(b-m)/2,a=k,b=m):(d=(a-k)/2,a=k)):(m=a/k,5===c?(m=m*f/this.la,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),k=this.ma*m/f,m=this.la*m/f,d=(a-k)/2,e=(b-m)/2,a=k):e=(b-m)/2,b=m)):this.pg&&this.jf&&0===this.Qj&&(d=Math.floor((a-this.ma)/2),e=Math.floor((b-
this.la)/2),a=this.ma,b=this.la),2>c&&(this.Me=f),this.Xf=Math.round(a),this.Te=Math.round(b),this.width=Math.round(a*f),this.height=Math.round(b*f),this.J=!0,this.Zl?(this.n=this.width,this.m=this.height,this.gb=!0):this.width<this.ma&&this.height<this.la||1===c?(this.n=this.width,this.m=this.height,this.gb=!0):(this.n=this.ma,this.m=this.la,this.gb=!1,2===c?(k=this.ma/this.la,c=this.me/this.le,c<k?this.n=this.m*c:c>k&&(this.m=this.n/c)):3===c&&(k=this.ma/this.la,c=this.me/this.le,c>k?this.n=this.m*
c:c<k&&(this.m=this.n/c))),this.zj&&!this.Xa&&(jQuery(this.zj).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*f),this.canvas.height=Math.round(b*f),this.Jb?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(e)+"px",this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.he&&!this.Xa&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.ya&&(this.ya.width=Math.round(a*f),this.ya.height=Math.round(b*f),this.ya.style.width=this.Xf+"px",this.ya.style.height=this.Te+"px"),this.i&&this.i.Qd(Math.round(a*f),Math.round(b*f)),this.Gd&&this.Y&&(this.Y.width=Math.round(a),this.Y.height=Math.round(b)),this.Y&&this.Pg(this.Y,this.da),this.Pl(),this.lk&&!this.ed&&window.scrollTo(0,
0)}};g.prototype.Pl=function(){if(this.zm&&0!==this.ti){var a="portrait";2===this.ti&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};g.prototype.bp=
function(){this.i.Gm();this.hi=!0;var a,b,f;a=0;for(b=this.d.length;a<b;a++)f=this.d[a],f.si&&f.si()};g.prototype.cp=function(){this.hi=!1;var a,b,f;a=0;for(b=this.d.length;a<b;a++)f=this.d[a],f.Wk&&f.Wk()};g.prototype.dl=function(){if(!this.Xa){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.jf)&&!this.ed?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ya).css(a)}};var c=window.cancelAnimationFrame||
window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;g.prototype.setSuspended=function(a){var b;if(a&&!this.kf)for(K("[Construct 2] Suspending"),this.kf=!0,-1!==this.Di&&c&&c(this.Di),-1!==this.Si&&clearTimeout(this.Si),a=0,b=this.Kf.length;a<b;a++)this.Kf[a](!0);else if(!a&&this.kf){K("[Construct 2] Resuming");this.kf=!1;this.vg=Ra();this.Jd=Ra();a=this.wf=this.ig=0;for(b=this.Kf.length;a<b;a++)this.Kf[a](!1);this.Sd(!1)}};
g.prototype.vm=function(a){this.Kf.push(a)};g.prototype.Mc=function(a){return this.Gg[a]};g.prototype.pf=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.Oj=a[1];this.Ua=a[12];this.Qj=a[12];this.ma=a[10];this.la=a[11];this.Yk=this.ma/2;this.Zk=this.la/2;this.Xa&&!this.Jb&&(4<=a[12]||0===a[12])&&(K("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Qj=this.Ua=3);this.aj=a[18];this.jd=a[19];
if(0===this.jd){var b=new Image;b.crossOrigin="anonymous";this.tl(b,"loading-logo.png");this.hd={Dg:b}}else if(4===this.jd){b=new Image;b.src="";var f=new Image;f.src="";var d=new Image;d.src="";var e=new Image;e.src="";var k=new Image;k.src="";var m=new Image;m.src="";var c=new Image;c.src="";var h=new Image;h.src="";var g=new Image;g.src="";var t=new Image;t.src="";var w=new Image;w.src="";var n=new Image;n.src="";this.hd={Dg:[b,f,d,e],mp:[k,m,c,h],Wp:[g,t,w,n]}}this.yf=a[21];this.Gg=$b();this.nc=
new Z(this);b=0;for(f=a[2].length;b<f;b++)c=a[2][b],d=this.Mc(c[0]),fb(c,d.prototype),h=new d(this),h.Sg=c[1],h.fd=c[2],h.pr=c[5],h.Ok=c[9],h.Ya&&h.Ya(),this.plugins.push(h);this.Gg=$b();b=0;for(f=a[3].length;b<f;b++){c=a[3][b];k=this.Mc(c[1]);h=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof k){h=this.plugins[d];break}g=new h.Ie(h);g.name=c[0];g.H=c[2];g.Yh=c[3].slice(0);g.Tp=c[3].length;g.Am=c[4];g.Xn=c[5];g.F=c[11];g.H?(g.Mk=[],g.uc=this.We++,g.V=null):(g.Mk=null,g.uc=-1,
g.V=[]);g.eg=null;g.fe=null;g.Ij=null;g.ib=!1;g.Ta=null;c[6]?(g.Gl=c[6][0],g.Hl=c[6][1],g.Kp=c[6][2]):(g.Gl=null,g.Hl=0,g.Kp=0);c[7]?g.Ra=c[7]:g.Ra=null;g.index=b;g.c=[];g.$f=[];g.Ic=[new gb(g)];g.cc=0;g.ec=null;g.Lm=0;g.Ce=!0;g.Zg=hb;g.ao=ib;g.jo=jb;g.O=kb;g.Df=lb;g.Bi=mb;g.ue=nb;g.jg=ob;g.Kh=pb;g.Mh=qb;g.td=rb;g.Oh=sb;g.Bj=new Ya(this.ma,this.la);g.lj=!0;g.mj=!1;g.U={};g.toString=tb;g.X=[];d=0;for(e=c[8].length;d<e;d++){t=c[8][d];w=this.Mc(t[1]);n=null;k=0;for(m=this.X.length;k<m;k++)if(this.X[k]instanceof
w){n=this.X[k];break}n||(n=new w(this),n.Pk=[],n.qi=new x,n.Ya&&n.Ya(),this.X.push(n));-1===n.Pk.indexOf(g)&&n.Pk.push(g);k=new n.Ie(n,g);k.name=t[0];k.F=t[2];k.Ya();g.X.push(k)}g.global=c[9];g.di=c[10];g.q=[];d=0;for(e=c[12].length;d<e;d++)g.q.push({id:c[12][d][0],name:c[12][d][1],ha:-1,Lb:!1,bb:!0,index:d});g.xr=c[13];this.aj&&!g.H&&!g.di&&h.fd||g.Ya();g.name&&(this.types[g.name]=g);this.d.push(g);h.Sg&&(d=new h.Nc(g),d.uid=this.yf++,d.hl=this.Qk++,d.Fd=0,d.Ye=ub,d.toString=vb,d.Za=c[14],d.Ya(),
g.c.push(d),this.Ec[d.uid.toString()]=d)}b=0;for(f=a[4].length;b<f;b++)for(k=a[4][b],m=this.d[k[0]],d=1,e=k.length;d<e;d++)c=this.d[k[d]],c.V.push(m),m.Mk.push(c);b=0;for(f=a[28].length;b<f;b++){k=a[28][b];m=[];d=0;for(e=k.length;d<e;d++)m.push(this.d[k[d]]);d=0;for(e=m.length;d<e;d++)m[d].ib=!0,m[d].Ta=m}if(0<this.We)for(b=0,f=this.d.length;b<f;b++)if(c=this.d[b],!c.H&&c.V.length){c.eg=Array(this.We);c.fe=Array(this.We);c.Ij=Array(this.We);g=[];d=n=w=t=0;for(e=c.V.length;d<e;d++)for(h=c.V[d],c.eg[h.uc]=
t,t+=h.Tp,c.fe[h.uc]=w,w+=h.Am,c.Ij[h.uc]=n,n+=h.Xn,k=0,m=h.q.length;k<m;k++)g.push(ta({},h.q[k]));c.q=g.concat(c.q);d=0;for(e=c.q.length;d<e;d++)c.q[d].index=d}b=0;for(f=a[5].length;b<f;b++)c=a[5][b],d=new wb(this,c),this.ki[d.name]=d,this.Kb.push(d);b=0;for(f=a[6].length;b<f;b++)c=a[6][b],d=new xb(this,c),this.Dh[d.name]=d,this.tc.push(d);b=0;for(f=this.tc.length;b<f;b++)this.tc[b].ea();b=0;for(f=this.tc.length;b<f;b++)this.tc[b].Yi();b=0;for(f=this.Yg.length;b<f;b++)this.Yg[b].ea();R(this.Yg);
this.ym=a[7];this.Od=a[9];this.Me=1;this.mn=a[13];this.da=a[14];this.Aj=a[15];this.Qp=a[17];this.ti=a[20];this.zm=0<this.ti;this.hp=a[22];this.gb=this.Zl=a[23];this.dn=a[24];this.np=a[25];this.N=a[27]&&!this.yc;this.Tg=Date.now();R(this.Gg);this.Go()};var a=!1,f=0,k=[];g.prototype.sp=function(a,b){function d(){f--;e.Lk()}var e=this;a.addEventListener("load",d);a.addEventListener("error",d);k.push([a,b]);this.Lk()};g.prototype.Lk=function(){for(var a;k.length&&100>f;)f++,a=k.shift(),this.tl(a[0],a[1])};
g.prototype.Up=function(b,f){b.cocoonLazyLoad=!0;b.onerror=function(f){a=b.wj=!0;console&&console.error&&console.error("Error loading image '"+b.src+"': ",f)};this.Jb?b.src=f:b.src||("undefined"!==typeof XAPKReader?XAPKReader.get(f,function(a){b.src=a},function(d){a=b.wj=!0;console&&console.error&&console.error("Error extracting image '"+f+"' from expansion file: ",d)}):(b.crossOrigin="anonymous",this.sp(b,f)));this.He.push(b)};g.prototype.Wn=function(a){var b,f;b=0;for(f=this.He.length;b<f;b++)if(this.He[b].Im===
a)return this.He[b];return null};var d=0,w=!1;g.prototype.Ao=function(){this.Ne&&(d=this.Ne.sr(this.ym))};g.prototype.nj=function(){var a=d,b=0,f=0,e=!0,k,c,f=0;for(k=this.He.length;f<k;f++){c=this.He[f];var m=c.Hm;if(!m||0>=m)m=5E4;a+=m;c.src&&(c.complete||c.loaded)&&!c.wj?b+=m:e=!1}e&&this.np&&this.Ne&&(w||(this.Ne.tr(),w=!0),f=this.Ne.nr(),b+=f,f<d&&(e=!1));this.Mb=0==a?1:b/a;return e};var q=!1;g.prototype.go=function(){if(this.Y||this.i){var b=this.Y||this.vi;this.ya&&this.dl();var f=window.innerWidth,
d=window.innerHeight;this.me===f&&this.le===d||this.setSize(f,d);this.Mb=0;this.pk=-1;var k=this;if(this.nj()&&(4!==this.jd||q))this.Bo();else{d=Date.now()-this.Tg;if(b){var c=this.width,m=this.height,f=this.devicePixelRatio;if(3>this.jd&&(this.Ib||500<=d&&this.pk!=this.Mb)){b.clearRect(0,0,c,m);var d=c/2,m=m/2,c=0===this.jd&&this.hd.Dg.complete,h=40*f,g=0,t=80*f,w;if(c){var n=this.hd.Dg,t=n.width*f;w=n.height*f;h=t/2;g=w/2;b.drawImage(n,N(d-h),N(m-g),t,w)}1>=this.jd?(d=N(d-h)+.5,m=N(m+(g+(c?12*f:
0)))+.5,b.fillStyle=a?"red":"DodgerBlue",b.fillRect(d,m,Math.floor(t*this.Mb),6*f),b.strokeStyle="black",b.strokeRect(d,m,t,6*f),b.strokeStyle="white",b.strokeRect(d-1*f,m-1*f,t+2*f,8*f)):2===this.jd&&(b.font=this.Jb?"12pt ArialMT":"12pt Arial",b.fillStyle=a?"#f00":"#999",b.wr="middle",f=Math.round(100*this.Mb)+"%",c=b.measureText?b.measureText(f):null,b.fillText(f,d-(c?c.width:0)/2,m));this.pk=this.Mb}else if(4===this.jd){this.kn(b);e?e(function(){k.go()}):setTimeout(function(){k.go()},16);return}}setTimeout(function(){k.go()},
this.Ib?10:100)}}};var O=-1,m="undefined"===typeof cr_is_preview?200:0,t=!0,B=!1,ga=0,X=0,da="undefined"===typeof cr_is_preview?3E3:0,P=null,y=null,D=0;g.prototype.kn=function(b){if(!q){for(var f=Math.ceil(this.width),d=Math.ceil(this.height),e=this.hd.Dg,k=this.hd.mp,c=this.hd.Wp,h=0;4>h;++h)if(!e[h].complete||!k[h].complete||!c[h].complete)return;0===D&&(O=Date.now());var h=Date.now(),g=!1,w=b,l,p;t||B?(b.clearRect(0,0,f,d),P&&P.width===f&&P.height===d||(P=document.createElement("canvas"),P.width=
f,P.height=d,y=P.getContext("2d")),w=y,g=!0,t&&1===D&&(O=Date.now())):b.globalAlpha=1;w.fillStyle="#333333";w.fillRect(0,0,f,d);256<this.Te?(l=Ca(.22*d,105,.6*f),p=.25*l,w.drawImage(n(k,l),.5*f-l/2,.2*d-p/2,l,p),p=l=Math.min(.395*d,.95*f),w.drawImage(n(e,l),.5*f-l/2,.485*d-p/2,l,p),l=Ca(.22*d,105,.6*f),p=.25*l,w.drawImage(n(c,l),.5*f-l/2,.868*d-p/2,l,p),w.fillStyle="#3C3C3C",l=f,p=Math.max(.005*d,2),w.fillRect(0,.8*d-p/2,l,p),w.fillStyle=a?"red":"#E0FF65",l=f*this.Mb,w.fillRect(.5*f-l/2,.8*d-p/2,
l,p)):(p=l=.55*d,w.drawImage(n(e,l),.5*f-l/2,.45*d-p/2,l,p),w.fillStyle="#3C3C3C",l=f,p=Math.max(.005*d,2),w.fillRect(0,.85*d-p/2,l,p),w.fillStyle=a?"red":"#E0FF65",l=f*this.Mb,w.fillRect(.5*f-l/2,.85*d-p/2,l,p));g&&(t?b.globalAlpha=0===D?0:Math.min((h-O)/300,1):B&&(b.globalAlpha=Math.max(1-(h-X)/300,0)),b.drawImage(P,0,0,f,d));t&&300<=h-O&&2<=D&&(t=!1,ga=h);!t&&h-ga>=da&&!B&&1<=this.Mb&&(B=!0,X=h);if(B&&h-X>=300+m||"undefined"!==typeof cr_is_preview&&1<=this.Mb&&500>Date.now()-O)q=!0,B=t=!1,this.hd=
y=P=null;++D}};g.prototype.Bo=function(){this.ya&&(this.canvas.parentNode.removeChild(this.ya),this.ya=this.vi=null);this.Tg=Date.now();this.Jd=Ra();var a,b,f;if(this.aj)for(a=0,b=this.d.length;a<b;a++)f=this.d[a],f.H||f.di||!f.za.fd||f.Ya();else this.ug=!1;a=0;for(b=this.Kb.length;a<b;a++)this.Kb[a].Jm();2<=this.Ua&&(a=this.ma/this.la,b=this.width/this.height,this.Me=2!==this.Ua&&b>a||2===this.Ua&&b<a?this.height/this.la:this.width/this.ma);this.Oj?this.ki[this.Oj].Ri():this.Kb[0].Ri();this.aj||
(this.Ag=1,this.trigger(Z.prototype.A.fj,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.d.length;a<b;a++)f=this.d[a],f.$o&&f.$o();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Sd(!1);this.Gd&&AppMobi.webview.execute("onGameReady();")};g.prototype.Sd=function(a,b,f){if(this.K){var d=Ra();if(f||!this.kf||a){a||(e?this.Di=e(this.Jl):this.Si=
setTimeout(this.Jl,this.hf?1:16));b=b||d;var k=this.Ua;((f=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.ed)||this.jf)&&0<this.Dd&&(k=this.Dd);if(0<k){var k=window.innerWidth,c=window.innerHeight;this.me===k&&this.le===c||this.setSize(k,c)}this.Xa||(f?this.gg||(this.gg=!0):this.gg?(this.gg=!1,0===this.Ua&&this.setSize(Math.round(this.Vk/this.devicePixelRatio),Math.round(this.Uk/this.devicePixelRatio),!0)):(this.Vk=this.width,this.Uk=
this.height));this.ug&&(f=this.nj(),this.Ag=this.Mb,f&&(this.ug=!1,this.Mb=1,this.trigger(Z.prototype.A.fj,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Uo(b);!this.J&&!this.Ib||this.hi||this.Jf||a||(this.J=!1,this.i?this.nb():this.Yc(),this.If&&(this.canvas&&this.canvas.toDataURL&&(this.Cl=this.canvas.toDataURL(this.If[0],this.If[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Cl),this.trigger(Z.prototype.A.mm,null)),this.If=null));this.or||(this.Mf++,this.dg++,this.ig++);this.wf+=
Ra()-d}}};g.prototype.Uo=function(a){var b,f,d,e,k,c,m,h;1E3<=a-this.Jd&&(this.Jd+=1E3,1E3<=a-this.Jd&&(this.Jd=a),this.Ih=this.ig,this.ig=0,this.vh=this.wf,this.wf=0);b=0;0!==this.vg&&(b=a-this.vg,0>b&&(b=0),this.zd=b/=1E3,.5<this.zd?this.zd=0:this.zd>1/this.Nk&&(this.zd=1/this.Nk));this.vg=a;this.de=this.zd*this.Nf;this.jb.add(this.de);this.bh.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.jf)&&!this.ed;2<=this.Ua||a&&0<this.Dd?
(b=this.ma/this.la,f=this.width/this.height,d=this.Ua,a&&0<this.Dd&&(d=this.Dd),this.Me=2!==d&&f>b||2===d&&f<b?this.height/this.la:this.width/this.ma,this.K&&(this.K.nl(this.K.scrollX),this.K.ol(this.K.scrollY))):this.Me=this.he?this.devicePixelRatio:1;this.Ca();this.zc++;this.nc.wp();this.zc--;this.Ca();this.zc++;f=this.Sk.pd();a=0;for(b=f.length;a<b;a++)f[a].qr();a=0;for(b=this.d.length;a<b;a++)if(c=this.d[a],!c.H&&(c.X.length||c.V.length))for(f=0,d=c.c.length;f<d;f++)for(m=c.c[f],e=0,k=m.u.length;e<
k;e++)m.u[e].Sd();a=0;for(b=this.d.length;a<b;a++)if(c=this.d[a],!c.H&&(c.X.length||c.V.length))for(f=0,d=c.c.length;f<d;f++)for(m=c.c[f],e=0,k=m.u.length;e<k;e++)h=m.u[e],h.lp&&h.lp();f=this.ri.pd();a=0;for(b=f.length;a<b;a++)f[a].Sd();this.zc--;this.Co();for(a=0;this.sh&&10>a++;)this.Gj(this.sh);a=0;for(b=this.tc.length;a<b;a++)this.tc[a].Th=!1;this.K.Bd&&this.K.Bd.na();R(this.kl);this.zc++;a=0;for(b=this.d.length;a<b;a++)if(c=this.d[a],!c.H&&(c.X.length||c.V.length))for(f=0,d=c.c.length;f<d;f++)for(m=
c.c[f],e=0,k=m.u.length;e<k;e++)h=m.u[e],h.Il&&h.Il();f=this.Tk.pd();a=0;for(b=f.length;a<b;a++)f[a].Il();this.zc--};g.prototype.Gj=function(a){var b=this.K;this.K.Ip();var f,d,e;if(this.i)for(f=0,d=this.d.length;f<d;f++)e=this.d[f],e.H||!e.Sl||e.global&&0!==e.c.length||-1!==a.df.indexOf(e)||e.Sl();b==a&&R(this.nc.Pa);R(this.kl);this.ll(!0);a.Ri();this.ll(!1);this.J=!0;this.Ca()};g.prototype.ll=function(a){var b,f,d,e,k,c,m,h,g;b=0;for(f=this.X.length;b<f;b++)d=this.X[b],a?d.zf&&d.zf():d.Af&&d.Af();
b=0;for(f=this.d.length;b<f;b++)if(d=this.d[b],d.global||d.za.Sg)for(e=0,k=d.c.length;e<k;e++)if(c=d.c[e],a?c.zf&&c.zf():c.Af&&c.Af(),c.u)for(m=0,h=c.u.length;m<h;m++)g=c.u[m],a?g.zf&&g.zf():g.Af&&g.Af()};g.prototype.Kl=function(a){this.ri.add(a)};g.prototype.Tj=function(a){return a&&-1!==a.xf?this.zd*a.xf:this.de};g.prototype.Yc=function(){this.K.Yc(this.Y);this.Gd&&this.Y.present()};g.prototype.nb=function(){this.N&&(this.Ad=1,this.K.be(this.i));this.K.nb(this.i);this.i.pp()};g.prototype.Xj=function(a){a=
a.toString();return this.Ec.hasOwnProperty(a)?this.Ec[a]:null};var F=[];g.prototype.Vd=function(a){var b,f;b=a.type.name;var d=null;if(this.yd.hasOwnProperty(b)){if(d=this.yd[b],d.contains(a))return}else d=F.length?F.pop():new x,this.yd[b]=d;d.add(a);this.cd=!0;if(a.ib)for(b=0,f=a.siblings.length;b<f;b++)this.Vd(a.siblings[b]);this.ci&&d.Fe.push(a);this.bi||(this.zc++,this.trigger(Object.getPrototypeOf(a.type.za).A.nm,a),this.zc--)};g.prototype.Ca=function(){if(this.cd){var a,b,f,d,e,k;this.ci=!0;
f=0;for(e=this.ac.length;f<e;++f)for(a=this.ac[f],b=a.type,b.c.push(a),d=0,k=b.V.length;d<k;++d)b.V[d].c.push(a),b.V[d].Ce=!0;R(this.ac);this.im();Qa(this.yd);this.cd=this.ci=!1}};g.prototype.im=function(){for(var a in this.yd)this.yd.hasOwnProperty(a)&&this.dm(this.yd[a])};g.prototype.dm=function(a){var b=a.pd(),f=b[0].type,d,e,k,c,m,h;Sa(f.c,a);f.Ce=!0;0===f.c.length&&(f.mj=!1);d=0;for(e=f.V.length;d<e;++d)h=f.V[d],Sa(h.c,a),h.Ce=!0;d=0;for(e=this.nc.Pa.length;d<e;++d)if(m=this.nc.Pa[d],m.Ha.hasOwnProperty(f.index)&&
Sa(m.Ha[f.index].wc,a),!f.H)for(k=0,c=f.V.length;k<c;++k)h=f.V[k],m.Ha.hasOwnProperty(h.index)&&Sa(m.Ha[h.index].wc,a);if(m=b[0].g){if(m.mb)for(k=m.c,d=0,e=k.length;d<e;++d)c=k[d],a.contains(c)&&(c.Ja(),m.Aa.update(c,c.Na,null),c.Na.set(0,0,-1,-1));Sa(m.c,a);m.Ef(0)}for(d=0;d<b.length;++d)this.cm(b[d],f);a.clear();F.push(a);this.J=!0};g.prototype.cm=function(a,b){var f,d,e;f=0;for(d=this.Fj.length;f<d;++f)this.Fj[f](a);a.Wc&&b.Bj.update(a,a.Wc,null);(f=a.g)&&f.xe(a,!0);if(a.u)for(f=0,d=a.u.length;f<
d;++f)e=a.u[f],e.Ig&&e.Ig(),e.behavior.qi.remove(a);this.Sk.remove(a);this.ri.remove(a);this.Tk.remove(a);a.Ig&&a.Ig();this.Ec.hasOwnProperty(a.uid.toString())&&delete this.Ec[a.uid.toString()];this.Hg--;100>b.$f.length&&b.$f.push(a)};var S=[];g.prototype.xd=function(a,b,f,d,e,k){var c,m,h,g;if(!a)return null;var t=this.d[a[1]],w=t.za.fd;if(this.ug&&w&&!t.di||w&&!this.i&&11===a[0][11])return null;var n=b;w||(b=null);var q;t.$f.length?(q=t.$f.pop(),q.Nb=!0,t.za.Nc.call(q,t)):(q=new t.za.Nc(t),q.Nb=
!1);!f||k||this.Ec.hasOwnProperty(a[2].toString())?q.uid=this.yf++:q.uid=a[2];this.Ec[q.uid.toString()]=q;q.hl=this.Qk++;q.Fd=t.c.length;c=0;for(m=this.ac.length;c<m;++c)this.ac[c].type===t&&q.Fd++;q.Ye=ub;q.toString=vb;h=a[3];if(q.Nb)Qa(q.U);else{q.U={};if("undefined"!==typeof cr_is_preview)for(q.ek=[],q.ek.length=h.length,c=0,m=h.length;c<m;c++)q.ek[c]=h[c][1];q.ia=[];q.ia.length=h.length}c=0;for(m=h.length;c<m;c++)q.ia[c]=h[c][0];if(w){var l=a[0];q.x=fa(d)?l[0]:d;q.y=fa(e)?l[1]:e;q.z=l[2];q.width=
l[3];q.height=l[4];q.depth=l[5];q.k=l[6];q.opacity=l[7];q.Va=l[8];q.Wa=l[9];q.Ea=l[10];c=l[11];!this.i&&t.q.length&&(q.Ea=c);q.Pe=$a(q.Ea);this.e&&ab(q,q.Ea,this.e);if(q.Nb){c=0;for(m=l[12].length;c<m;c++)for(h=0,g=l[12][c].length;h<g;h++)q.Z[c][h]=l[12][c][h];q.Da.set(0,0,0,0);q.Wc.set(0,0,-1,-1);q.Na.set(0,0,-1,-1);q.Uf.Ff(q.Da);R(q.ih)}else{q.Z=l[12].slice(0);c=0;for(m=q.Z.length;c<m;c++)q.Z[c]=l[12][c].slice(0);q.I=[];q.Pc=[];q.Pc.length=t.q.length;q.Da=new Q(0,0,0,0);q.Wc=new Q(0,0,-1,-1);q.Na=
new Q(0,0,-1,-1);q.Uf=new sa;q.ih=[];q.ra=yb;q.jr=zb;q.$b=Ab;q.Ja=Bb;q.Pp=Cb;q.yr=Db;q.gc=Eb}q.Ll=!1;q.Np=0;q.Mp=0;q.Lp=null;14===l.length&&(q.Ll=!0,q.Np=l[13][0],q.Mp=l[13][1],q.Lp=l[13][2]);c=0;for(m=t.q.length;c<m;c++)q.Pc[c]=!0;q.Gc=!0;q.Vb=Fb;q.Vb();q.Wl=!!q.I.length;q.hh=!0;q.nh=!0;t.lj=!0;q.visible=!0;q.xf=-1;q.g=b;q.Xb=b.c.length;q.Ad=0;"undefined"===typeof q.Zb&&(q.Zb=null);this.J=q.Oe=!0}var B;R(S);c=0;for(m=t.V.length;c<m;c++)S.push.apply(S,t.V[c].X);S.push.apply(S,t.X);if(q.Nb)for(c=0,
m=S.length;c<m;c++){var p=S[c];B=q.u[c];B.Nb=!0;p.behavior.Nc.call(B,p,q);l=a[4][c];h=0;for(g=l.length;h<g;h++)B.Za[h]=l[h];B.Ya();p.behavior.qi.add(q)}else for(q.u=[],c=0,m=S.length;c<m;c++)p=S[c],B=new p.behavior.Nc(p,q),B.Nb=!1,B.Za=a[4][c].slice(0),B.Ya(),q.u.push(B),p.behavior.qi.add(q);l=a[5];if(q.Nb)for(c=0,m=l.length;c<m;c++)q.Za[c]=l[c];else q.Za=l.slice(0);this.ac.push(q);this.cd=!0;b&&(b.Le(q,!0),1!==b.se||1!==b.te)&&(t.mj=!0);this.Hg++;if(t.ib){if(q.ib=!0,q.Nb?R(q.siblings):q.siblings=
[],!f&&!k){c=0;for(m=t.Ta.length;c<m;c++)if(t.Ta[c]!==t){if(!t.Ta[c].ec)return null;q.siblings.push(this.xd(t.Ta[c].ec,n,!1,w?q.x:d,w?q.y:e,!0))}c=0;for(m=q.siblings.length;c<m;c++)for(q.siblings[c].siblings.push(q),h=0;h<m;h++)c!==h&&q.siblings[c].siblings.push(q.siblings[h])}}else q.ib=!1,q.siblings=null;q.Ya();c=0;for(m=q.u.length;c<m;c++)q.u[c].kp&&q.u[c].kp();return q};g.prototype.fo=function(a){var b,f;b=0;for(f=this.K.r.length;b<f;b++){var d=this.K.r[b];if(cb(d.name,a))return d}return null};
g.prototype.ho=function(a){a=N(a);0>a&&(a=0);a>=this.K.r.length&&(a=this.K.r.length-1);return this.K.r[a]};g.prototype.th=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].O().ba=!0};g.prototype.Df=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].Df()};g.prototype.Bi=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].Bi()};g.prototype.ue=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].ue()};new sa;new Q(0,0,0,0);g.prototype.Ql=function(a,b){if(!b)return!1;var f,d,e,c,k;f=0;for(d=a.X.length;f<
d;f++)if(a.X[f].behavior instanceof b)return!0;if(!a.H)for(f=0,d=a.V.length;f<d;f++)for(k=a.V[f],e=0,c=k.X.length;e<c;e++)if(k.X[e].behavior instanceof b)return!0;return!1};g.prototype.Wi=function(a){return this.Ql(a,Tb.Bq)};g.prototype.Xi=function(a){return this.Ql(a,Tb.Cq)};var W=-1;g.prototype.trigger=function(a,b,f){if(!this.K)return!1;var d=this.K.Bd;if(!d)return!1;var e=!1,c,k,m;W++;var h=d.zh;k=0;for(m=h.length;k<m;++k)c=this.Nl(a,b,h[k],f),e=e||c;c=this.Nl(a,b,d,f);W--;return e||c};g.prototype.Nl=
function(a,b,f,d){var e=!1,c,k,m,h;if(b)for(m=this.Ui(a,b,b.type.name,f,d),e=e||m,h=b.type.V,c=0,k=h.length;c<k;++c)m=this.Ui(a,b,h[c].name,f,d),e=e||m;else m=this.Ui(a,b,"system",f,d),e=e||m;return e};g.prototype.Ui=function(a,b,f,d,e){var c,k=!1,m=!1,m="undefined"!==typeof e,h=(m?d.Kj:d.Ol)[f];if(!h)return k;var g=null;d=0;for(c=h.length;d<c;++d)if(h[d].method==a){g=h[d].Ve;break}if(!g)return k;var t;m?t=g[e]:t=g;if(!t)return null;d=0;for(c=t.length;d<c;d++)a=t[d][0],e=t[d][1],m=this.Tn(b,f,a,e),
k=k||m;return k};g.prototype.Tn=function(a,b,f,d){var e,c,k=!1;this.Vi++;var m=this.Ma().fb;m&&this.Df(m.nd);var h=1<this.Vi;this.Df(f.nd);h&&this.rp();var g=this.Ci(f);g.fb=f;a&&(e=this.types[b].O(),e.ba=!1,R(e.c),e.c[0]=a,this.types[b].td());a=!0;if(f.parent){b=g.Fl;for(e=f.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(c=b.length;e<c;e++)if(!b[e].yp()){a=!1;break}}a&&(this.dg++,f.ic?f.xp(d):f.na(),k=k||g.Id);this.cl();h&&this.jp();this.ue(f.nd);m&&this.ue(m.nd);this.cd&&0===this.zc&&0===W&&
!this.ei&&this.Ca();this.Vi--;return k};g.prototype.$n=function(){var a=this.Ma();return a.fb.Fa[a.Sa]};g.prototype.rp=function(){this.Cg++;this.Cg>=this.oi.length&&this.oi.push([])};g.prototype.jp=function(){this.Cg--};g.prototype.Sj=function(){return this.oi[this.Cg]};g.prototype.Ci=function(a){this.bg++;this.bg>=this.Ch.length&&this.Ch.push(new Gb);var b=this.Ma();b.reset(a);return b};g.prototype.cl=function(){this.bg--};g.prototype.Ma=function(){return this.Ch[this.bg]};g.prototype.Uj=function(a,
b){for(var f,d,e,c,k,m;b;){f=0;for(d=b.ub.length;f<d;f++)if(m=b.ub[f],m instanceof Hb&&cb(a,m.name))return m;b=b.parent}f=0;for(d=this.tc.length;f<d;f++)for(k=this.tc[f],e=0,c=k.$c.length;e<c;e++)if(m=k.$c[e],m instanceof Hb&&cb(a,m.name))return m;return null};g.prototype.Vj=function(a){var b,f;b=0;for(f=this.Kb.length;b<f;b++)if(this.Kb[b].F===a)return this.Kb[b];return null};g.prototype.lg=function(a){var b,f;b=0;for(f=this.d.length;b<f;b++)if(this.d[b].F===a)return this.d[b];return null};g.prototype.bo=
function(a){var b,f;b=0;for(f=this.Zd.length;b<f;b++)if(this.Zd[b].F===a)return this.Zd[b];return null};g.prototype.Mm=function(a,b){this.If=[a,b];this.J=!0};g.prototype.Co=function(){var a=this,b=this.Oi,f=this.Ac,d=this.yg,e=!1;this.Al&&(e=!0,b="__c2_continuouspreview",this.Al=!1);if(b.length){this.Ca();f=this.Cp();if(l()&&!this.Ib)v(b,f,function(){K("Saved state to IndexedDB storage ("+f.length+" bytes)");a.Ac=f;a.trigger(Z.prototype.A.eh,null);a.Ac="";e&&h()},function(d){try{localStorage.setItem("__c2save_"+
b,f),K("Saved state to WebStorage ("+f.length+" bytes)"),a.Ac=f,a.trigger(Z.prototype.A.eh,null),a.Ac="",e&&h()}catch(c){K("Failed to save game state: "+d+"; "+c),a.trigger(Z.prototype.A.gj,null)}});else try{localStorage.setItem("__c2save_"+b,f),K("Saved state to WebStorage ("+f.length+" bytes)"),a.Ac=f,this.trigger(Z.prototype.A.eh,null),a.Ac="",e&&h()}catch(c){K("Error saving to WebStorage: "+c),a.trigger(Z.prototype.A.gj,null)}this.yg=this.Oi="";this.ka=null}if(d.length){if(l()&&!this.Ib)r(d,function(b){b?
(a.ka=b,K("Loaded state from IndexedDB storage ("+a.ka.length+" bytes)")):(a.ka=localStorage.getItem("__c2save_"+d)||"",K("Loaded state from WebStorage ("+a.ka.length+" bytes)"));a.Jf=!1;a.ka||(a.ka=null,a.trigger(Z.prototype.A.Tf,null))},function(){a.ka=localStorage.getItem("__c2save_"+d)||"";K("Loaded state from WebStorage ("+a.ka.length+" bytes)");a.Jf=!1;a.ka||(a.ka=null,a.trigger(Z.prototype.A.Tf,null))});else{try{this.ka=localStorage.getItem("__c2save_"+d)||"",K("Loaded state from WebStorage ("+
this.ka.length+" bytes)")}catch(k){this.ka=null}this.Jf=!1;a.ka||(a.ka=null,a.trigger(Z.prototype.A.Tf,null))}this.Oi=this.yg=""}null!==this.ka&&(this.Ca(),this.So(this.ka)?(this.Ac=this.ka,this.trigger(Z.prototype.A.qm,null),this.Ac=""):a.trigger(Z.prototype.A.Tf,null),this.ka=null)};g.prototype.Cp=function(){var a,f,d,e,c,k,m,h={c2save:!0,version:1,rt:{time:this.jb.W,walltime:this.bh.W,timescale:this.Nf,tickcount:this.Mf,execcount:this.dg,next_uid:this.yf,running_layout:this.K.F,start_time_offset:Date.now()-
this.Tg},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(f=this.d.length;a<f;a++)if(c=this.d[a],!c.H&&!this.Wi(c)){k={instances:[]};Pa(c.U)&&(k.ex=b(c.U));d=0;for(e=c.c.length;d<e;d++)k.instances.push(this.Ni(c.c[d]));h.types[c.F.toString()]=k}a=0;for(f=this.Kb.length;a<f;a++)d=this.Kb[a],h.layouts[d.F.toString()]=d.Pb();e=h.events.groups;a=0;for(f=this.Zd.length;a<f;a++)d=this.Zd[a],e[d.F.toString()]=this.mg[d.$e].Ze;f=h.events.cnds;for(m in this.Vc)this.Vc.hasOwnProperty(m)&&
(a=this.Vc[m],Pa(a.U)&&(f[m]={ex:b(a.U)}));f=h.events.acts;for(m in this.Rc)this.Rc.hasOwnProperty(m)&&(a=this.Rc[m],Pa(a.U)&&(f[m]={ex:b(a.U)}));f=h.events.vars;for(m in this.Ge)this.Ge.hasOwnProperty(m)&&(a=this.Ge[m],a.rg||a.parent&&!a.mf||(f[m]=a.data));h.system=this.nc.Pb();return JSON.stringify(h)};g.prototype.jl=function(){var a,b,f,d,e,c;this.Ec={};a=0;for(b=this.d.length;a<b;a++)if(f=this.d[a],!f.H)for(d=0,e=f.c.length;d<e;d++)c=f.c[d],this.Ec[c.uid.toString()]=c};g.prototype.So=function(a){var b;
try{b=JSON.parse(a)}catch(f){return!1}if(!b.c2save||1<b.version)return!1;this.ff=!0;a=b.rt;this.jb.reset();this.jb.W=a.time;this.bh.reset();this.bh.W=a.walltime||0;this.Nf=a.timescale;this.Mf=a.tickcount;this.dg=a.execcount;this.Tg=Date.now()-a.start_time_offset;var d=a.running_layout;if(d!==this.K.F)if(d=this.Vj(d))this.Gj(d);else return;var e,c,k,m,h,g,t;g=b.types;for(c in g)if(g.hasOwnProperty(c)&&(m=this.lg(parseInt(c,10)))&&!m.H&&!this.Wi(m)){g[c].ex?m.U=g[c].ex:Qa(m.U);h=m.c;k=g[c].instances;
d=0;for(e=oa(h.length,k.length);d<e;d++)this.zg(h[d],k[d]);d=k.length;for(e=h.length;d<e;d++)this.Vd(h[d]);d=h.length;for(e=k.length;d<e;d++){h=null;if(m.za.fd&&(h=this.K.kg(k[d].w.l),!h))continue;h=this.xd(m.ec,h,!1,0,0,!0);this.zg(h,k[d])}m.Ce=!0}this.Ca();this.jl();e=b.layouts;for(c in e)e.hasOwnProperty(c)&&(d=this.Vj(parseInt(c,10)))&&d.Cc(e[c]);e=b.events.groups;for(c in e)e.hasOwnProperty(c)&&(d=this.bo(parseInt(c,10)))&&this.mg[d.$e]&&this.mg[d.$e].Dp(e[c]);d=b.events.cnds;for(c in this.Vc)this.Vc.hasOwnProperty(c)&&
(d.hasOwnProperty(c)?this.Vc[c].U=d[c].ex:this.Vc[c].U={});d=b.events.acts;for(c in this.Rc)this.Rc.hasOwnProperty(c)&&(d.hasOwnProperty(c)?this.Rc[c].U=d[c].ex:this.Rc[c].U={});d=b.events.vars;for(c in d)d.hasOwnProperty(c)&&this.Ge.hasOwnProperty(c)&&(this.Ge[c].data=d[c]);this.yf=a.next_uid;this.ff=!1;d=0;for(e=this.fg.length;d<e;++d)h=this.fg[d],this.trigger(Object.getPrototypeOf(h.type.za).A.ej,h);R(this.fg);this.nc.Cc(b.system);d=0;for(e=this.d.length;d<e;d++)if(m=this.d[d],!m.H&&!this.Wi(m))for(b=
0,c=m.c.length;b<c;b++){h=m.c[b];if(m.ib)for(g=h.Ye(),R(h.siblings),a=0,k=m.Ta.length;a<k;a++)t=m.Ta[a],m!==t&&h.siblings.push(t.c[g]);h.qd&&h.qd();if(h.u)for(a=0,k=h.u.length;a<k;a++)g=h.u[a],g.qd&&g.qd()}return this.J=!0};g.prototype.Ni=function(a,f){var d,e,c,k,m;k=a.type;c=k.za;var h={};f?h.c2=!0:h.uid=a.uid;Pa(a.U)&&(h.ex=b(a.U));if(a.ia&&a.ia.length)for(h.ivs={},d=0,e=a.ia.length;d<e;d++)h.ivs[a.type.Yh[d].toString()]=a.ia[d];if(c.fd){c={x:a.x,y:a.y,w:a.width,h:a.height,l:a.g.F,zi:a.gc()};0!==
a.k&&(c.a=a.k);1!==a.opacity&&(c.o=a.opacity);.5!==a.Va&&(c.hX=a.Va);.5!==a.Wa&&(c.hY=a.Wa);0!==a.Ea&&(c.bm=a.Ea);a.visible||(c.v=a.visible);a.Oe||(c.ce=a.Oe);-1!==a.xf&&(c.mts=a.xf);if(k.q.length)for(c.fx=[],d=0,e=k.q.length;d<e;d++)m=k.q[d],c.fx.push({name:m.name,active:a.Pc[m.index],params:a.Z[m.index]});h.w=c}if(a.u&&a.u.length)for(h.behs={},d=0,e=a.u.length;d<e;d++)k=a.u[d],k.Pb&&(h.behs[k.type.F.toString()]=k.Pb());a.Pb&&(h.data=a.Pb());return h};g.prototype.eo=function(a,b){var f,d;f=0;for(d=
a.Yh.length;f<d;f++)if(a.Yh[f]===b)return f;return-1};g.prototype.Zn=function(a,b){var f,d;f=0;for(d=a.u.length;f<d;f++)if(a.u[f].type.F===b)return f;return-1};g.prototype.zg=function(a,b,f){var d,e,c,k,m;m=a.type;var h=m.za;if(f){if(!b.c2)return}else a.uid=b.uid;b.ex?a.U=b.ex:Qa(a.U);if(e=b.ivs)for(d in e)e.hasOwnProperty(d)&&(c=this.eo(m,parseInt(d,10)),0>c||c>=a.ia.length||(k=e[d],null===k&&(k=NaN),a.ia[c]=k));if(h.fd){c=b.w;a.g.F!==c.l&&(e=a.g,a.g=this.K.kg(c.l),a.g?(e.xe(a,!0),a.g.Le(a,!0),a.ra(),
a.g.Ef(0)):(a.g=e,f||this.Vd(a)));a.x=c.x;a.y=c.y;a.width=c.w;a.height=c.h;a.Xb=c.zi;a.k=c.hasOwnProperty("a")?c.a:0;a.opacity=c.hasOwnProperty("o")?c.o:1;a.Va=c.hasOwnProperty("hX")?c.hX:.5;a.Wa=c.hasOwnProperty("hY")?c.hY:.5;a.visible=c.hasOwnProperty("v")?c.v:!0;a.Oe=c.hasOwnProperty("ce")?c.ce:!0;a.xf=c.hasOwnProperty("mts")?c.mts:-1;a.Ea=c.hasOwnProperty("bm")?c.bm:0;a.Pe=$a(a.Ea);this.e&&ab(a,a.Ea,this.e);a.ra();if(c.hasOwnProperty("fx"))for(f=0,e=c.fx.length;f<e;f++)k=m.Mh(c.fx[f].name),0>
k||(a.Pc[k]=c.fx[f].active,a.Z[k]=c.fx[f].params);a.Vb()}if(m=b.behs)for(d in m)m.hasOwnProperty(d)&&(f=this.Zn(a,parseInt(d,10)),0>f||a.u[f].Cc(m[d]));b.data&&a.Cc(b.data)};g.prototype.Lj=function(a,b,f){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,f)},f)};g.prototype.Vn=function(a,b){this.Lj("data.js",function(f){var d=new FileReader;d.onload=function(b){a(b.target.result)};d.onerror=b;d.readAsText(f)},b)};var ca=[],I=0;g.prototype.pi=function(){if(ca.length&&
!(8<=I)){I++;var a=ca.shift();this.Qm(a.filename,a.Jp,a.qn)}};g.prototype.Un=function(a,b,f){var d=this;ca.push({filename:a,Jp:function(a){I--;d.pi();b(a)},qn:function(a){I--;d.pi();f(a)}});this.pi()};g.prototype.Qm=function(a,b,f){this.Lj(a,function(a){var f=new FileReader;f.onload=function(a){b(a.target.result)};f.readAsArrayBuffer(a)},f)};g.prototype.Mj=function(a,b,f){var d="",c=a.toLowerCase(),e=c.substr(c.length-4),c=c.substr(c.length-5);".mp4"===e?d="video/mp4":".webm"===c?d="video/webm":".m4a"===
e?d="audio/mp4":".mp3"===e&&(d="audio/mpeg");this.Un(a,function(a){a=URL.createObjectURL(new Blob([a],{type:d}));b(a)},f)};g.prototype.fk=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};g.prototype.tl=function(a,b){this.fi&&!this.fk(b)?this.Mj(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};g.prototype.Pg=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=
b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)};Ib=function(a){return new g(document.getElementById(a))};Jb=function(a,b){return new g({dc:!0,width:a,height:b})};window.cr_createRuntime=Ib;window.cr_createDCRuntime=Jb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.lr=!0;document.body.appendChild(a);a=new g(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new g(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var g=document.getElementById("c2canvas");return g?g.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(g,n){var l=window.cr_getC2Runtime();l&&l.Mm(g,n)};
window.cr_sizeCanvas=function(g,n){if(0!==g&&0!==n){var l=window.cr_getC2Runtime();l&&l.setSize(g,n)}};window.cr_setSuspended=function(g){var n=window.cr_getC2Runtime();n&&n.setSuspended(g)};
(function(){function g(a,b){this.b=a;this.Bd=null;this.scrollX=this.b.ma/2;this.scrollY=this.b.la/2;this.scale=1;this.k=0;this.ge=!0;this.name=b[0];this.gp=b[1];this.fp=b[2];this.width=b[1];this.height=b[2];this.Rl=b[3];this.zl=b[4];this.F=b[5];var c=b[6],d,e;this.r=[];this.df=[];d=0;for(e=c.length;d<e;d++){var h=new Kb(this,c[d]);h.Rk=d;this.r.push(h)}c=b[7];this.dd=[];d=0;for(e=c.length;d<e;d++){var h=c[d],g=this.b.d[h[1]];g.ec||(g.ec=h);this.dd.push(h);-1===this.df.indexOf(g)&&this.df.push(g)}this.q=
[];this.I=[];this.Gc=!0;this.Z=[];d=0;for(e=b[8].length;d<e;d++)this.q.push({id:b[8][d][0],name:b[8][d][1],ha:-1,Lb:!1,bb:!0,index:d}),this.Z.push(b[8][d][2].slice(0));this.Vb();this.Ei=new Q(0,0,1,1);this.Fi=new Q(0,0,1,1);this.ld={}}function n(a,b){return a.Xb-b.Xb}function l(a,b){this.pa=a;this.b=a.b;this.c=[];this.scale=1;this.k=0;this.sc=!1;this.Jc=new Q(0,0,0,0);this.Ml=new sa;this.S=this.M=this.T=this.L=0;this.Ud=!1;this.Lc=-1;this.uh=0;this.name=b[0];this.index=b[1];this.F=b[2];this.visible=
b[3];this.Ab=b[4];this.Sb=b[5];this.se=b[6];this.te=b[7];this.opacity=b[8];this.hg=b[9];this.mb=b[10];this.dj=b[11];this.Ea=b[12];this.ln=b[13];this.Pe="source-over";this.wa=this.Ba=0;this.Aa=null;this.Bc=p();this.Ob=!0;this.ne=new Q(0,0,-1,-1);this.va=new Q(0,0,-1,-1);this.mb&&(this.Aa=new Za(this.b.ma,this.b.la));this.kc=!1;var c=b[14],d,e;this.El=[];this.hb=[];this.Se=[];d=0;for(e=c.length;d<e;d++){var h=c[d],g=this.b.d[h[1]];g.ec||(g.ec=h,g.Lm=this.index);this.hb.push(h);-1===this.pa.df.indexOf(g)&&
this.pa.df.push(g)}wa(this.El,this.hb);this.q=[];this.I=[];this.Gc=!0;this.Z=[];d=0;for(e=b[15].length;d<e;d++)this.q.push({id:b[15][d][0],name:b[15][d][1],ha:-1,Lb:!1,bb:!0,index:d}),this.Z.push(b[15][d][2].slice(0));this.Vb();this.Ei=new Q(0,0,1,1);this.Fi=new Q(0,0,1,1)}function p(){return b.length?b.pop():[]}function v(a){R(a);b.push(a)}g.prototype.Bp=function(a){var b=a.type.F.toString();this.ld.hasOwnProperty(b)||(this.ld[b]=[]);this.ld[b].push(this.b.Ni(a))};g.prototype.Zj=function(){var a=
this.r[0];return!a.Sb&&1===a.opacity&&!a.hg&&a.visible};g.prototype.Vb=function(){R(this.I);this.Gc=!0;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.bb&&(this.I.push(c),c.Lb||(this.Gc=!1))};g.prototype.Lh=function(a){var b,c,d;b=0;for(c=this.q.length;b<c;b++)if(d=this.q[b],d.name===a)return d;return null};var r=[],h=!0;g.prototype.Ri=function(){this.zl&&(this.Bd=this.b.Dh[this.zl],this.Bd.Yi());this.b.K=this;this.width=this.gp;this.height=this.fp;this.scrollX=this.b.ma/2;this.scrollY=this.b.la/
2;var a,b,c,d,e,g,l;a=0;for(c=this.b.d.length;a<c;a++)if(b=this.b.d[a],!b.H)for(e=b.c,b=0,d=e.length;b<d;b++)if(g=e[b],g.g){var m=g.g.Rk;m>=this.r.length&&(m=this.r.length-1);g.g=this.r[m];-1===g.g.c.indexOf(g)&&g.g.c.push(g);g.g.Ud=!0}if(!h)for(a=0,c=this.r.length;a<c;++a)this.r[a].c.sort(n);R(r);this.Bm();a=0;for(c=this.r.length;a<c;a++)g=this.r[a],g.Km(),g.$g();e=!1;if(!this.ge){for(l in this.ld)if(this.ld.hasOwnProperty(l)&&(b=this.b.lg(parseInt(l,10)))&&!b.H&&this.b.Xi(b)){d=this.ld[l];a=0;for(c=
d.length;a<c;a++){g=null;if(b.za.fd&&(g=this.kg(d[a].w.l),!g))continue;g=this.b.xd(b.ec,g,!1,0,0,!0);this.b.zg(g,d[a]);e=!0;r.push(g)}R(d)}a=0;for(c=this.r.length;a<c;a++)this.r[a].c.sort(n),this.r[a].Ud=!0}e&&(this.b.Ca(),this.b.jl());for(a=0;a<r.length;a++)if(g=r[a],g.type.ib)for(c=g.Ye(),b=0,d=g.type.Ta.length;b<d;b++)l=g.type.Ta[b],g.type!==l&&(l.c.length>c?g.siblings.push(l.c[c]):l.ec&&(e=this.b.xd(l.ec,g.g,!0,g.x,g.y,!0),this.b.Ca(),l.Zg(),g.siblings.push(e),r.push(e)));a=0;for(c=this.dd.length;a<
c;a++)g=this.dd[a],b=this.b.d[g[1]],b.ib||this.b.xd(this.dd[a],null,!0);this.b.sh=null;this.b.Ca();if(this.b.Y&&!this.b.Xa)for(a=0,c=this.b.d.length;a<c;a++)l=this.b.d[a],!l.H&&l.c.length&&l.el&&l.el(this.b.Y);if(this.b.ff)wa(this.b.fg,r);else for(a=0,c=r.length;a<c;a++)g=r[a],this.b.trigger(Object.getPrototypeOf(g.type.za).A.ej,g);R(r);this.b.ff||this.b.trigger(Z.prototype.A.pm,null);this.ge=!1};g.prototype.Jm=function(){var a,b,c,d,e;b=a=0;for(c=this.dd.length;a<c;a++)d=this.dd[a],e=this.b.d[d[1]],
e.global?e.ib||this.b.xd(d,null,!0):(this.dd[b]=d,b++);va(this.dd,b)};g.prototype.Ip=function(){this.b.ff||this.b.trigger(Z.prototype.A.om,null);this.b.bi=!0;R(this.b.nc.Pa);var a,b,c,d,e,g;if(!this.ge)for(a=0,b=this.r.length;a<b;a++)for(this.r[a].$i(),e=this.r[a].c,c=0,d=e.length;c<d;c++)g=e[c],g.type.global||this.b.Xi(g.type)&&this.Bp(g);a=0;for(b=this.r.length;a<b;a++){e=this.r[a].c;c=0;for(d=e.length;c<d;c++)g=e[c],g.type.global||this.b.Vd(g);this.b.Ca();R(e);this.r[a].Ud=!0}a=0;for(b=this.b.d.length;a<
b;a++)if(e=this.b.d[a],!(e.global||e.za.fd||e.za.Sg||e.H)){c=0;for(d=e.c.length;c<d;c++)this.b.Vd(e.c[c]);this.b.Ca()}h=!1;this.b.bi=!1};new Q(0,0,0,0);g.prototype.Yc=function(a){var b,c=a,d=!1,e=!this.b.gb;e&&(this.b.xg||(this.b.xg=document.createElement("canvas"),b=this.b.xg,b.width=this.b.n,b.height=this.b.m,this.b.rk=b.getContext("2d"),d=!0),b=this.b.xg,c=this.b.rk,b.width!==this.b.n&&(b.width=this.b.n,d=!0),b.height!==this.b.m&&(b.height=this.b.m,d=!0),d&&this.b.Pg(c,this.b.da));c.globalAlpha=
1;c.globalCompositeOperation="source-over";this.b.Aj&&!this.Zj()&&c.clearRect(0,0,this.b.n,this.b.m);var h,g,d=0;for(h=this.r.length;d<h;d++)g=this.r[d],g.visible&&0<g.opacity&&11!==g.Ea&&(g.c.length||!g.Sb)?g.Yc(c):g.$g();e&&a.drawImage(b,0,0,this.b.width,this.b.height)};g.prototype.be=function(a){a.sl(!0);this.b.ga||(this.b.ga=a.eb(this.b.n,this.b.m,this.b.da));if(this.b.ga.wd!==this.b.n||this.b.ga.vd!==this.b.m)a.deleteTexture(this.b.ga),this.b.ga=a.eb(this.b.n,this.b.m,this.b.da);a.tb(this.b.ga);
this.b.gb||a.Qd(this.b.n,this.b.m);var b,c;for(b=this.r.length-1;0<=b;--b)c=this.r[b],c.visible&&1===c.opacity&&c.Gc&&0===c.Ea&&(c.c.length||!c.Sb)?c.be(a):c.$g();a.sl(!1)};g.prototype.nb=function(a){var b=0<this.I.length||this.b.Ee||!this.b.gb||this.b.N;if(b){this.b.ga||(this.b.ga=a.eb(this.b.n,this.b.m,this.b.da));if(this.b.ga.wd!==this.b.n||this.b.ga.vd!==this.b.m)a.deleteTexture(this.b.ga),this.b.ga=a.eb(this.b.n,this.b.m,this.b.da);a.tb(this.b.ga);this.b.gb||a.Qd(this.b.n,this.b.m)}else this.b.ga&&
(a.tb(null),a.deleteTexture(this.b.ga),this.b.ga=null);this.b.Aj&&!this.Zj()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.r.length;c<d;c++)e=this.r[c],e.visible&&0<e.opacity&&(e.c.length||!e.Sb)?e.nb(a):e.$g();b&&(0===this.I.length||1===this.I.length&&this.b.gb?(1===this.I.length?(b=this.I[0].index,a.Oa(this.I[0].ha),a.Ae(null,1/this.b.n,1/this.b.m,0,0,1,1,this.scale,this.k,0,0,this.b.n/2,this.b.m/2,this.b.jb.W,this.Z[b]),a.Kg(this.I[0].ha)&&(this.b.J=!0)):a.Oa(0),this.b.gb||a.Qd(this.b.width,this.b.height),
a.tb(null),a.rl(!1),a.ze(1),a.lb(this.b.ga),a.pl(),a.lc(),a.Wb(),b=this.b.width/2,c=this.b.height/2,a.we(-b,c,b,c,b,-c,-b,-c),a.lb(null),a.rl(!0)):this.Gi(a,null,null,null))};g.prototype.Xe=function(){return 0<this.I.length||this.b.Ee||!this.b.gb||this.b.N?this.b.ga:null};g.prototype.Wj=function(){var a=this.r[0].pb(),b,c,d;b=1;for(c=this.r.length;b<c;b++)d=this.r[b],(0!==d.se||0!==d.te)&&d.pb()<a&&(a=d.pb());return a};g.prototype.nl=function(a){if(!this.Rl){var b=1/this.Wj()*this.b.n/2;a>this.width-
b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.J=!0)};g.prototype.ol=function(a){if(!this.Rl){var b=1/this.Wj()*this.b.m/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.J=!0)};g.prototype.Bm=function(){this.nl(this.scrollX);this.ol(this.scrollY)};g.prototype.Gi=function(a,b,c,d){var e=c?c.I:b?b.I:this.I,h=1,g=0,m=0,t=0,n=this.b.n,l=this.b.m;c?(h=c.g.pb(),g=c.g.ob(),m=c.g.L,t=c.g.M,n=c.g.T,l=c.g.S):b&&(h=b.pb(),g=b.ob(),m=b.L,t=b.M,
n=b.T,l=b.S);var p=this.b.Jh,r,v,y,D,F=0,S=1,W,ca,I=this.b.n,u=this.b.m,Aa=I/2,Ba=u/2,E=b?b.Ei:this.Ei,A=b?b.Fi:this.Fi,G=0,M=0,C=0,z=0,J=I,na=I,H=u,ma=u,ha=y=0;D=c?c.g.ob():0;if(c){r=0;for(v=e.length;r<v;r++)y+=a.ko(e[r].ha),ha+=a.lo(e[r].ha);z=c.Da;G=b.qb(z.left,z.top,!0);C=b.qb(z.left,z.top,!1);J=b.qb(z.right,z.bottom,!0);H=b.qb(z.right,z.bottom,!1);0!==D&&(r=b.qb(z.right,z.top,!0),v=b.qb(z.right,z.top,!1),M=b.qb(z.left,z.bottom,!0),z=b.qb(z.left,z.bottom,!1),D=Math.min(G,J,r,M),J=Math.max(G,J,
r,M),G=D,D=Math.min(C,H,v,z),H=Math.max(C,H,v,z),C=D);G-=y;C-=ha;J+=y;H+=ha;A.left=G/I;A.top=1-C/u;A.right=J/I;A.bottom=1-H/u;M=G=N(G);z=C=N(C);na=J=qa(J);ma=H=qa(H);M-=y;z-=ha;na+=y;ma+=ha;0>G&&(G=0);0>C&&(C=0);J>I&&(J=I);H>u&&(H=u);0>M&&(M=0);0>z&&(z=0);na>I&&(na=I);ma>u&&(ma=u);E.left=G/I;E.top=1-C/u;E.right=J/I;E.bottom=1-H/u}else E.left=A.left=0,E.top=A.top=0,E.right=A.right=1,E.bottom=A.bottom=1;ha=c&&(a.Cf(e[0].ha)||0!==y||0!==ha||1!==c.opacity||c.type.za.Ok)||b&&!c&&1!==b.opacity;a.pl();if(ha){p[F]||
(p[F]=a.eb(I,u,this.b.da));if(p[F].wd!==I||p[F].vd!==u)a.deleteTexture(p[F]),p[F]=a.eb(I,u,this.b.da);a.Oa(0);a.tb(p[F]);ca=ma-z;a.clearRect(M,u-z-ca,na-M,ca);c?c.nb(a):(a.lb(this.b.ja),a.ze(b.opacity),a.lc(),a.translate(-Aa,-Ba),a.Wb(),a.Pd(G,H,J,H,J,C,G,C,E));A.left=A.top=0;A.right=A.bottom=1;c&&(D=E.top,E.top=E.bottom,E.bottom=D);F=1;S=0}a.ze(1);y=e.length-1;var Na=a.Ai(e[y].ha)||!b&&!c&&!this.b.gb;r=D=0;for(v=e.length;r<v;r++){p[F]||(p[F]=a.eb(I,u,this.b.da));if(p[F].wd!==I||p[F].vd!==u)a.deleteTexture(p[F]),
p[F]=a.eb(I,u,this.b.da);a.Oa(e[r].ha);D=e[r].index;a.Kg(e[r].ha)&&(this.b.J=!0);0!=r||ha?(a.Ae(d,1/I,1/u,A.left,A.top,A.right,A.bottom,h,g,m,t,(m+n)/2,(t+l)/2,this.b.jb.W,c?c.Z[D]:b?b.Z[D]:this.Z[D]),a.lb(null),r!==y||Na?(a.tb(p[F]),ca=ma-z,W=u-z-ca,a.clearRect(M,W,na-M,ca)):(c?a.Fc(c.Ba,c.wa):b&&a.Fc(b.Ba,b.wa),a.tb(d)),a.lb(p[S]),a.lc(),a.translate(-Aa,-Ba),a.Wb(),a.Pd(G,H,J,H,J,C,G,C,E),r!==y||Na||a.lb(null)):(a.tb(p[F]),ca=ma-z,W=u-z-ca,a.clearRect(M,W,na-M,ca),c?(c.ua&&c.ua.ta?(W=c.ua.ta,S=
1/W.width,W=1/W.height):(S=1/c.width,W=1/c.height),a.Ae(d,S,W,A.left,A.top,A.right,A.bottom,h,g,m,t,(m+n)/2,(t+l)/2,this.b.jb.W,c.Z[D]),c.nb(a)):(a.Ae(d,1/I,1/u,0,0,1,1,h,g,m,t,(m+n)/2,(t+l)/2,this.b.jb.W,b?b.Z[D]:this.Z[D]),a.lb(b?this.b.ja:this.b.ga),a.lc(),a.translate(-Aa,-Ba),a.Wb(),a.Pd(G,H,J,H,J,C,G,C,E)),A.left=A.top=0,A.right=A.bottom=1,c&&!Na&&(D=H,H=C,C=D));F=0===F?1:0;S=0===F?1:0}Na&&(a.Oa(0),c?a.Fc(c.Ba,c.wa):b?a.Fc(b.Ba,b.wa):this.b.gb||(a.Qd(this.b.width,this.b.height),Aa=this.b.width/
2,Ba=this.b.height/2,C=G=0,J=this.b.width,H=this.b.height),a.tb(d),a.lb(p[S]),a.lc(),a.translate(-Aa,-Ba),a.Wb(),c&&1===e.length&&!ha?a.Pd(G,C,J,C,J,H,G,H,E):a.Pd(G,H,J,H,J,C,G,C,E),a.lb(null))};g.prototype.kg=function(a){var b,c;b=0;for(c=this.r.length;b<c;b++)if(this.r[b].F===a)return this.r[b];return null};g.prototype.Pb=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.ge,persist:this.ld,fx:[],layers:{}};a=0;for(b=this.q.length;a<
b;a++)c=this.q[a],d.fx.push({name:c.name,active:c.bb,params:this.Z[c.index]});a=0;for(b=this.r.length;a<b;a++)c=this.r[a],d.layers[c.F.toString()]=c.Pb();return d};g.prototype.Cc=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.ld=a.persist;"undefined"!==typeof a.fv&&(this.ge=a.fv);var h=a.fx;b=0;for(c=h.length;b<c;b++)if(d=this.Lh(h[b].name))d.bb=h[b].active,this.Z[d.index]=h[b].params;this.Vb();b=a.layers;for(e in b)b.hasOwnProperty(e)&&
(a=this.kg(parseInt(e,10)))&&a.Cc(b[e])};wb=g;l.prototype.Vb=function(){R(this.I);this.Gc=!0;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.bb&&(this.I.push(c),c.Lb||(this.Gc=!1))};l.prototype.Lh=function(a){var b,c,d;b=0;for(c=this.q.length;b<c;b++)if(d=this.q[b],d.name===a)return d;return null};l.prototype.Km=function(){var a,b,c,d,e,h;b=a=0;for(c=this.hb.length;a<c;a++){d=this.hb[a];e=this.b.d[d[1]];h=this.b.Xi(e);e=!0;if(!h||this.pa.ge){d=this.b.xd(d,this,!0);if(!d)continue;r.push(d);
d.type.global&&(e=!1,this.Se.push(d.uid))}e&&(this.hb[b]=this.hb[a],b++)}this.hb.length=b;this.b.Ca();!this.b.i&&this.q.length&&(this.Ea=this.ln);this.Pe=$a(this.Ea);this.b.e&&ab(this,this.Ea,this.b.e);this.Ob=!0};l.prototype.xe=function(a,b){var c=ya(this.c,a);0>c||(b&&this.mb&&a.Na&&a.Na.right>=a.Na.left&&(a.Ja(),this.Aa.update(a,a.Na,null),a.Na.set(0,0,-1,-1)),c===this.c.length-1?this.c.pop():(ua(this.c,c),this.Ef(c)),this.Ob=!0)};l.prototype.Le=function(a,b){a.Xb=this.c.length;this.c.push(a);
b&&this.mb&&a.Na&&a.ra();this.Ob=!0};l.prototype.op=function(a){this.c.unshift(a);this.Ef(0)};l.prototype.Xo=function(a,b,c){var d=a.gc();b=b.gc();ua(this.c,d);d<b&&b--;c&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.Ef(d<b?d:b)};l.prototype.Ef=function(a){-1===this.Lc?this.Lc=a:a<this.Lc&&(this.Lc=a);this.Ob=this.Ud=!0};l.prototype.$i=function(){if(this.Ud){-1===this.Lc&&(this.Lc=0);var a,b,c;if(this.mb)for(a=this.Lc,b=this.c.length;a<b;++a)c=this.c[a],c.Xb=a,this.Aa.Vo(c.Na);else for(a=
this.Lc,b=this.c.length;a<b;++a)this.c[a].Xb=a;this.Ud=!1;this.Lc=-1}};l.prototype.pb=function(a){return this.io()*(this.b.gb||a?this.b.Me:1)};l.prototype.io=function(){return(this.scale*this.pa.scale-1)*this.dj+1};l.prototype.ob=function(){return this.sc?0:Fa(this.pa.k+this.k)};var b=[],e=[],c=[];l.prototype.Ph=function(){this.$i();this.Aa.il(this.L,this.M,this.T,this.S,c);if(!c.length)return p();if(1===c.length){var a=p();wa(a,c[0]);R(c);return a}for(var b=!0;1<c.length;){for(var a=c,h=void 0,d=
void 0,g=void 0,q=void 0,n=void 0,h=0,d=a.length;h<d-1;h+=2){var g=a[h],q=a[h+1],n=p(),m=g,t=q,l=n,r=0,X=0,da=0,P=m.length,y=t.length,D=void 0,F=void 0;for(l.length=P+y;r<P&&X<y;++da)D=m[r],F=t[X],D.Xb<F.Xb?(l[da]=D,++r):(l[da]=F,++X);for(;r<P;++r,++da)l[da]=m[r];for(;X<y;++X,++da)l[da]=t[X];b||(v(g),v(q));e.push(n)}1===d%2&&(b?(g=p(),wa(g,a[d-1]),e.push(g)):e.push(a[d-1]));wa(a,e);R(e);b=!1}a=c[0];R(c);return a};l.prototype.Yc=function(a){this.kc=this.hg||1!==this.opacity||0!==this.Ea;var b=this.b.canvas,
c=a,d=!1;this.kc&&(this.b.wg||(this.b.wg=document.createElement("canvas"),b=this.b.wg,b.width=this.b.n,b.height=this.b.m,this.b.qk=b.getContext("2d"),d=!0),b=this.b.wg,c=this.b.qk,b.width!==this.b.n&&(b.width=this.b.n,d=!0),b.height!==this.b.m&&(b.height=this.b.m,d=!0),d&&this.b.Pg(c,this.b.da),this.Sb&&c.clearRect(0,0,this.b.n,this.b.m));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Sb||(c.fillStyle="rgb("+this.Ab[0]+","+this.Ab[1]+","+this.Ab[2]+")",c.fillRect(0,0,this.b.n,this.b.m));
c.save();this.sc=!0;var d=this.Uc(!0),e=this.Uc(!1);this.sc=!1;this.b.Od&&(d=Math.round(d),e=Math.round(e));this.Ng(d,e,c);var h=this.pb();c.scale(h,h);c.translate(-d,-e);this.mb?(this.va.left=this.Aa.Ka(this.L),this.va.top=this.Aa.La(this.M),this.va.right=this.Aa.Ka(this.T),this.va.bottom=this.Aa.La(this.S),this.Ob||!this.va.Ue(this.ne)?(v(this.Bc),d=this.Ph(),this.Ob=!1,this.ne.Qe(this.va)):d=this.Bc):d=this.c;for(var g,m=null,e=0,h=d.length;e<h;++e)g=d[e],g!==m&&(this.en(g,c),m=g);this.mb&&(this.Bc=
d);c.restore();this.kc&&(a.globalCompositeOperation=this.Pe,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};l.prototype.en=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ja();var c=a.Da;c.right<this.L||c.bottom<this.M||c.left>this.T||c.top>this.S||(b.globalCompositeOperation=a.Pe,a.Yc(b))}};l.prototype.$g=function(){this.sc=!0;var a=this.Uc(!0),b=this.Uc(!1);this.sc=!1;this.b.Od&&(a=Math.round(a),b=Math.round(b));this.Ng(a,b,null)};l.prototype.Ng=function(a,b,c){var d=this.pb();this.L=a;
this.M=b;this.T=a+1/d*this.b.n;this.S=b+1/d*this.b.m;this.L>this.T&&(a=this.L,this.L=this.T,this.T=a);this.M>this.S&&(a=this.M,this.M=this.S,this.S=a);a=this.ob();0!==a&&(c&&(c.translate(this.b.n/2,this.b.m/2),c.rotate(-a),c.translate(this.b.n/-2,this.b.m/-2)),this.Jc.set(this.L,this.M,this.T,this.S),this.Jc.offset((this.L+this.T)/-2,(this.M+this.S)/-2),this.Ml.xl(this.Jc,a),this.Ml.vj(this.Jc),this.Jc.offset((this.L+this.T)/2,(this.M+this.S)/2),this.L=this.Jc.left,this.M=this.Jc.top,this.T=this.Jc.right,
this.S=this.Jc.bottom)};l.prototype.be=function(a){if(this.kc=this.hg){this.b.ja||(this.b.ja=a.eb(this.b.n,this.b.m,this.b.da));if(this.b.ja.wd!==this.b.n||this.b.ja.vd!==this.b.m)a.deleteTexture(this.b.ja),this.b.ja=a.eb(this.b.n,this.b.m,this.b.da);a.tb(this.b.ja)}this.sc=!0;var b=this.Uc(!0),c=this.Uc(!1);this.sc=!1;this.b.Od&&(b=Math.round(b),c=Math.round(c));this.Ng(b,c,null);b=this.pb();a.lc();a.scale(b,b);a.Ji(-this.ob());a.translate((this.L+this.T)/-2,(this.M+this.S)/-2);a.Wb();this.mb?(this.va.left=
this.Aa.Ka(this.L),this.va.top=this.Aa.La(this.M),this.va.right=this.Aa.Ka(this.T),this.va.bottom=this.Aa.La(this.S),this.Ob||!this.va.Ue(this.ne)?(v(this.Bc),b=this.Ph(),this.Ob=!1,this.ne.Qe(this.va)):b=this.Bc):b=this.c;for(var d,e=null,c=b.length-1;0<=c;--c)d=b[c],d!==e&&(this.hn(b[c],a),e=d);this.mb&&(this.Bc=b);this.Sb||(this.uh=this.b.Ad++,a.Qg(this.uh),a.ql(1,1,1),a.Pj(),a.up())};l.prototype.nb=function(a){var b=0,c=0;if(this.kc=this.hg||1!==this.opacity||0<this.I.length||0!==this.Ea){this.b.ja||
(this.b.ja=a.eb(this.b.n,this.b.m,this.b.da));if(this.b.ja.wd!==this.b.n||this.b.ja.vd!==this.b.m)a.deleteTexture(this.b.ja),this.b.ja=a.eb(this.b.n,this.b.m,this.b.da);a.tb(this.b.ja);this.Sb&&a.clear(0,0,0,0)}this.Sb||(this.b.N?(a.Qg(this.uh),a.ql(this.Ab[0]/255,this.Ab[1]/255,this.Ab[2]/255),a.Pj(),a.Ep()):a.clear(this.Ab[0]/255,this.Ab[1]/255,this.Ab[2]/255,1));this.sc=!0;var d=this.Uc(!0),b=this.Uc(!1);this.sc=!1;this.b.Od&&(d=Math.round(d),b=Math.round(b));this.Ng(d,b,null);d=this.pb();a.lc();
a.scale(d,d);a.Ji(-this.ob());a.translate((this.L+this.T)/-2,(this.M+this.S)/-2);a.Wb();this.mb?(this.va.left=this.Aa.Ka(this.L),this.va.top=this.Aa.La(this.M),this.va.right=this.Aa.Ka(this.T),this.va.bottom=this.Aa.La(this.S),this.Ob||!this.va.Ue(this.ne)?(v(this.Bc),b=this.Ph(),this.Ob=!1,this.ne.Qe(this.va)):b=this.Bc):b=this.c;var e,h,g=null,c=0;for(e=b.length;c<e;++c)h=b[c],h!==g&&(this.gn(b[c],a),g=h);this.mb&&(this.Bc=b);this.kc&&(b=this.I.length?this.I[0].ha:0,c=this.I.length?this.I[0].index:
0,0===this.I.length||1===this.I.length&&!a.Ai(b)&&1===this.opacity?(1===this.I.length?(a.Oa(b),a.Ae(this.pa.Xe(),1/this.b.n,1/this.b.m,0,0,1,1,d,this.ob(),this.L,this.M,(this.L+this.T)/2,(this.M+this.S)/2,this.b.jb.W,this.Z[c]),a.Kg(b)&&(this.b.J=!0)):a.Oa(0),a.tb(this.pa.Xe()),a.ze(this.opacity),a.lb(this.b.ja),a.Fc(this.Ba,this.wa),a.lc(),a.Wb(),d=this.b.n/2,b=this.b.m/2,a.we(-d,b,d,b,d,-b,-d,-b),a.lb(null)):this.pa.Gi(a,this,null,this.pa.Xe()))};l.prototype.gn=function(a,b){if(a.visible&&0!==a.width&&
0!==a.height){a.Ja();var c=a.Da;c.right<this.L||c.bottom<this.M||c.left>this.T||c.top>this.S||(b.Qg(a.Ad),a.Wl?this.jn(a,b):(b.Oa(0),b.Fc(a.Ba,a.wa),a.nb(b)))}};l.prototype.hn=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ja();var c=a.Da;c.right<this.L||c.bottom<this.M||c.left>this.T||c.top>this.S||(a.Ad=this.b.Ad++,0===a.Ea&&1===a.opacity&&a.Gc&&a.be&&(b.Qg(a.Ad),a.be(b)))}};l.prototype.jn=function(a,b){var c=a.I[0].ha,d=a.I[0].index,e=this.pb();if(1!==a.I.length||b.Ai(c)||b.qp(c)||(a.k||
a.g.ob())&&b.Cf(c)||1!==a.opacity||a.type.za.Ok)this.pa.Gi(b,this,a,this.kc?this.b.ja:this.pa.Xe()),b.lc(),b.scale(e,e),b.Ji(-this.ob()),b.translate((this.L+this.T)/-2,(this.M+this.S)/-2),b.Wb();else{b.Oa(c);b.Fc(a.Ba,a.wa);b.Kg(c)&&(this.b.J=!0);var h=0,g=0,m=0,t=0;b.Cf(c)&&(t=a.Da,h=this.qb(t.left,t.top,!0),g=this.qb(t.left,t.top,!1),m=this.qb(t.right,t.bottom,!0),t=this.qb(t.right,t.bottom,!1),h=h/windowWidth,g=1-g/windowHeight,m=m/windowWidth,t=1-t/windowHeight);var n;a.ua&&a.ua.ta?(n=a.ua.ta,
c=1/n.width,n=1/n.height):(c=1/a.width,n=1/a.height);b.Ae(this.kc?this.b.ja:this.pa.Xe(),c,n,h,g,m,t,e,this.ob(),this.L,this.M,(this.L+this.T)/2,(this.M+this.S)/2,this.b.jb.W,a.Z[d]);a.nb(b)}};l.prototype.Uc=function(a){var b=0,c=0,d=this.b.devicePixelRatio;this.b.he&&(b*=d,c*=d);var d=this.b.Yk,e=this.b.Zk,d=(this.pa.scrollX-d)*this.se+d,e=(this.pa.scrollY-e)*this.te+e,h,g,m=1/this.pb(!1);h=d-this.b.n*m/2;g=e-this.b.m*m/2;h+=b*m;g+=c*m;c=this.ob();0!==c&&(h-=d,g-=e,b=Math.cos(c),c=Math.sin(c),m=
h*b-g*c,g=g*b+h*c,h=m+d,g+=e);return a?h:g};l.prototype.qb=function(a,b,c){var d=this.b.Yk,e=this.b.Zk,d=(this.pa.scrollX-d)*this.se+d,h=(this.pa.scrollY-e)*this.te+e,e=d,g=h,m=this.ob();if(0!==m){a-=d;b-=h;var t=Math.cos(-m),m=Math.sin(-m),n=a*t-b*m;b=b*t+a*m;a=n+d;b+=h}d=1/this.pb(!1);e-=this.b.n*d/2;g-=this.b.m*d/2;e=(a-e)/d;return c?e:(b-g)/d};l.prototype.Pb=function(){var a,b,c,d={s:this.scale,a:this.k,vl:this.L,vt:this.M,vr:this.T,vb:this.S,v:this.visible,bc:this.Ab,t:this.Sb,px:this.se,py:this.te,
o:this.opacity,zr:this.dj,fx:[],cg:this.Se,instances:[]};a=0;for(b=this.q.length;a<b;a++)c=this.q[a],d.fx.push({name:c.name,active:c.bb,params:this.Z[c.index]});return d};l.prototype.Cc=function(a){var b,c,d;this.scale=a.s;this.k=a.a;this.L=a.vl;this.M=a.vt;this.T=a.vr;this.S=a.vb;this.visible=a.v;this.Ab=a.bc;this.Sb=a.t;this.se=a.px;this.te=a.py;this.opacity=a.o;this.dj=a.zr;this.Se=a.cg||[];wa(this.hb,this.El);var e=new x;b=0;for(d=this.Se.length;b<d;++b)e.add(this.Se[b]);c=b=0;for(d=this.hb.length;b<
d;++b)e.contains(this.hb[b][2])||(this.hb[c]=this.hb[b],++c);va(this.hb,c);c=a.fx;b=0;for(d=c.length;b<d;b++)if(a=this.Lh(c[b].name))a.bb=c[b].active,this.Z[a.index]=c[b].params;this.Vb();this.c.sort(n);this.Ud=!0};Kb=l})();
(function(){function g(a,b){var d,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}}function n(a,b){return a.index-b.index}function l(a){var b,d,c,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(n);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);e=w[a.length];b=0;for(d=e.length;b<d;b++)if(c=e[b],g(a,c))return c;e.push(a);return a}
function p(a,b){this.b=a;this.Ol={};this.Kj={};this.Th=!1;this.ak=new x;this.zh=[];this.fh=[];this.name=b[0];var d=b[1];this.$c=[];var c,e;c=0;for(e=d.length;c<e;c++)this.ck(d[c],null,this.$c)}function v(a){this.type=a;this.c=[];this.G=[];this.ba=!0}function r(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.R=[];this.nd=[];this.$j=this.Xg=this.Ti=this.Wh=this.group=this.Dl=!1;this.Fa=[];this.yb=[];this.ub=[];this.$e="";this.Ze=this.Wh=this.group=!1;this.Wf=null;d[1]&&(this.$e=d[1][1].toLowerCase(),
this.group=!0,this.Wh=!!d[1][0],this.Wf=[],this.Ze=this.Wh,this.b.Zd.push(this),this.b.mg[this.$e]=this);this.ic=d[2];this.F=d[4];this.group||(this.b.uj[this.F.toString()]=this);var c=d[5];a=0;for(b=c.length;a<b;a++){var e=new Lb(this,c[a]);e.index=a;this.Fa.push(e);this.ij(e.type)}c=d[6];a=0;for(b=c.length;a<b;a++)e=new Mb(this,c[a]),e.index=a,this.yb.push(e);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.ck(d[a],this,this.ub);this.sg=!1;this.Fa.length&&(this.sg=null==this.Fa[0].type&&
this.Fa[0].xa==Z.prototype.A.em)}function h(a,b){var d,c,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.ib))for(d=0,c=a.Ta.length;d<c;d++)e=a.Ta[d],a!==e&&-1===b.indexOf(e)&&b.push(e)}function b(a,b){this.cb=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.aa=[];this.U={};this.index=-1;this.Je=!1;this.xa=this.b.Mc(b[1]);this.trigger=0<b[3];this.Jj=2===b[3];this.Zh=b[5];this.Ro=b[6];this.F=b[7];this.b.Vc[this.F.toString()]=this;-1===b[0]?(this.type=null,this.na=this.Mi,this.ud=null,this.Bb=-1):(this.type=this.b.d[b[0]],
this.na=this.Ro?this.zp:this.Li,b[2]?(this.ud=this.type.jg(b[2]),this.Bb=this.type.Kh(b[2])):(this.ud=null,this.Bb=-1),this.cb.parent&&this.cb.parent.Rg());this.Jj&&(this.na=this.Ap);if(10===b.length){var d,c,e=b[9];d=0;for(c=e.length;d<c;d++){var f=new Nb(this,e[d]);this.C.push(f)}this.aa.length=e.length}}function e(a,b){this.cb=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.aa=[];this.U={};this.index=-1;this.Je=!1;this.xa=this.b.Mc(b[1]);-1===b[0]?(this.type=null,this.na=this.Mi,this.ud=null,this.Bb=
-1):(this.type=this.b.d[b[0]],this.na=this.Li,b[2]?(this.ud=this.type.jg(b[2]),this.Bb=this.type.Kh(b[2])):(this.ud=null,this.Bb=-1));this.F=b[3];this.b.Rc[this.F.toString()]=this;if(6===b.length){var d,c,e=b[5];d=0;for(c=e.length;d<c;d++){var f=new Nb(this,e[d]);this.C.push(f)}this.aa.length=e.length}}function c(){O++;q.length===O&&q.push(new Ob);return q[O]}function a(a,b){this.sb=a;this.cb=a.cb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.fc=null;this.Hc=0;this.get=null;this.Cj=0;this.pa=
null;this.key=0;this.object=null;this.index=0;this.Of=this.Rd=this.Of=this.Rd=this.Nj=this.Cd=this.Pf=null;this.xb=!1;var d,c,e;switch(b[0]){case 0:case 7:this.fc=new U(this,b[1]);this.Hc=0;this.get=this.ro;break;case 1:this.fc=new U(this,b[1]);this.Hc=0;this.get=this.so;break;case 5:this.fc=new U(this,b[1]);this.Hc=0;this.get=this.wo;break;case 3:case 8:this.Cj=b[1];this.get=this.po;break;case 6:this.pa=this.b.ki[b[1]];this.get=this.xo;break;case 9:this.key=b[1];this.get=this.vo;break;case 4:this.object=
this.b.d[b[1]];this.get=this.yo;this.cb.ij(this.object);this.sb instanceof Mb?this.cb.Rg():this.cb.parent&&this.cb.parent.Rg();break;case 10:this.index=b[1];a.type&&a.type.H?(this.get=this.to,this.xb=!0):this.get=this.uo;break;case 11:this.Pf=b[1];this.Cd=null;this.get=this.qo;break;case 2:case 12:this.Nj=b[1];this.get=this.oo;break;case 13:for(this.get=this.zo,this.Rd=[],this.Of=[],d=1,c=b.length;d<c;d++)e=new Nb(this.sb,b[d]),this.Rd.push(e),this.Of.push(0)}}function f(a,b,d){this.sheet=a;this.parent=
b;this.b=a.b;this.R=[];this.name=d[1];this.Vh=d[3];this.mf=!!d[4];this.rg=!!d[5];this.F=d[6];this.b.Ge[this.F.toString()]=this;this.data=this.Vh;this.parent?(this.Md=this.mf||this.rg?-1:this.b.Hp++,this.b.xm.push(this)):(this.Md=-1,this.b.wm.push(this))}function k(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.R=[];this.cf=null;this.Eo=d[1];this.bb=!0}function d(){this.Fl=[];this.reset(null)}var w=[];p.prototype.toString=function(){return this.name};p.prototype.ck=function(a,b,d){switch(a[0]){case 0:a=
new Pb(this,b,a);if(a.ic)for(d.push(a),d=0,b=a.Fa.length;d<b;d++)a.Fa[d].trigger&&this.dk(a,d);else a.kk()?this.dk(a,0):d.push(a);break;case 1:a=new Hb(this,b,a);d.push(a);break;case 2:a=new Qb(this,b,a),d.push(a)}};p.prototype.ea=function(){var a,b;a=0;for(b=this.$c.length;a<b;a++)this.$c[a].ea(a<b-1&&this.$c[a+1].sg)};p.prototype.Yi=function(){R(this.zh);R(this.fh);this.hj(this);R(this.fh)};p.prototype.hj=function(a){var b,d,c,e,f=a.zh,h=a.fh,g=this.ak.pd();b=0;for(d=g.length;b<d;++b)c=g[b],e=c.cf,
!c.bb||a===e||-1<h.indexOf(e)||(h.push(e),e.hj(a),f.push(e))};p.prototype.na=function(a){this.b.rr||(this.Th=!0,a||(this.b.ei=!0));var b,d;b=0;for(d=this.$c.length;b<d;b++){var c=this.$c[b];c.na();this.b.th(c.R);this.b.cd&&this.b.Ca()}a||(this.b.ei=!1)};p.prototype.dk=function(a,b){a.ic||this.b.Yg.push(a);var d,c,e=a.Fa[b],f;e.type?f=e.type.name:f="system";var h=(d=e.Jj)?this.Kj:this.Ol;h[f]||(h[f]=[]);f=h[f];h=e.xa;if(d){if(e.C.length&&(e=e.C[0],1===e.type&&2===e.fc.type)){e=e.fc.value.toLowerCase();
d=0;for(c=f.length;d<c;d++)if(f[d].method==h){d=f[d].Ve;d[e]?d[e].push([a,b]):d[e]=[[a,b]];return}d={};d[e]=[[a,b]];f.push({method:h,Ve:d})}}else{d=0;for(c=f.length;d<c;d++)if(f[d].method==h){f[d].Ve.push([a,b]);return}ac&&h===ac.prototype.A.Yd?f.unshift({method:h,Ve:[[a,b]]}):f.push({method:h,Ve:[[a,b]]})}};xb=p;v.prototype.Yj=function(){return this.ba?this.type.c.length:this.c.length};v.prototype.Gb=function(){return this.ba?this.type.c:this.c};v.prototype.Bf=function(a){a&&(a.b.Ma().fb.ic?(this.ba&&
(R(this.c),wa(this.G,a.type.c),this.ba=!1),a=this.G.indexOf(a),-1!==a&&(this.c.push(this.G[a]),this.G.splice(a,1))):(this.ba=!1,R(this.c),this.c[0]=a))};gb=v;window._c2hh_="9017255D14A9FEBF603549A93A64AE369D72898B";r.prototype.ea=function(a){var b,d=this.parent;if(this.group)for(this.Xg=!0;d;){if(!d.group){this.Xg=!1;break}d=d.parent}this.Ti=!this.kk()&&(!this.parent||this.parent.group&&this.parent.Xg);this.$j=!!a;this.nd=this.R.slice(0);for(d=this.parent;d;){a=0;for(b=d.R.length;a<b;a++)this.um(d.R[a]);
d=d.parent}this.R=l(this.R);this.nd=l(this.nd);a=0;for(b=this.Fa.length;a<b;a++)this.Fa[a].ea();a=0;for(b=this.yb.length;a<b;a++)this.yb[a].ea();a=0;for(b=this.ub.length;a<b;a++)this.ub[a].ea(a<b-1&&this.ub[a+1].sg)};r.prototype.Dp=function(a){if(this.Ze!==!!a){this.Ze=!!a;var b;a=0;for(b=this.Wf.length;a<b;++a)this.Wf[a].Ul();0<b&&this.b.K.Bd&&this.b.K.Bd.Yi()}};r.prototype.ij=function(a){h(a,this.R)};r.prototype.um=function(a){h(a,this.nd)};r.prototype.Rg=function(){this.Dl=!0;this.parent&&this.parent.Rg()};
r.prototype.kk=function(){return this.Fa.length?this.Fa[0].trigger:!1};r.prototype.na=function(){var a,b,d=!1,c=this.b,e=this.b.Ma();e.fb=this;var f=this.Fa;this.sg||(e.Bh=!1);if(this.ic){0===f.length&&(d=!0);e.Sa=0;for(a=f.length;e.Sa<a;e.Sa++)b=f[e.Sa],b.trigger||(b=b.na())&&(d=!0);(e.Id=d)&&this.Ki()}else{e.Sa=0;for(a=f.length;e.Sa<a;e.Sa++)if(b=f[e.Sa].na(),!b){e.Id=!1;this.Ti&&c.cd&&c.Ca();return}e.Id=!0;this.Ki()}this.nn(e)};r.prototype.nn=function(a){a.Id&&this.$j&&(a.Bh=!0);this.Ti&&this.b.cd&&
this.b.Ca()};r.prototype.xp=function(a){this.b.Ma().fb=this;this.Fa[a].na()&&(this.Ki(),this.b.Ma().Id=!0)};r.prototype.Ki=function(){var a=this.b.Ma(),b;a.Qa=0;for(b=this.yb.length;a.Qa<b;a.Qa++)if(this.yb[a.Qa].na())return;this.ml()};r.prototype.vp=function(){var a=this.b.Ma(),b;for(b=this.yb.length;a.Qa<b;a.Qa++)if(this.yb[a.Qa].na())return;this.ml()};r.prototype.ml=function(){if(this.ub.length){var a,b,d,c,e=this.ub.length-1;this.b.Ci(this);if(this.Dl)for(a=0,b=this.ub.length;a<b;a++)d=this.ub[a],
(c=!this.Xg||!this.group&&a<e)&&this.b.Bi(d.R),d.na(),c?this.b.ue(d.R):this.b.th(d.R);else for(a=0,b=this.ub.length;a<b;a++)this.ub[a].na();this.b.cl()}};r.prototype.yp=function(){var a=this.b.Ma();a.fb=this;var b=!1,d;a.Sa=0;for(d=this.Fa.length;a.Sa<d;a.Sa++)if(this.Fa[a.Sa].na())b=!0;else if(!this.ic)return!1;return this.ic?b:!0};r.prototype.Lo=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Fa[b].type===a.type)return!1;return!0};Pb=r;b.prototype.ea=function(){var a,b,d;a=
0;for(b=this.C.length;a<b;a++)d=this.C[a],d.ea(),d.xb&&(this.Je=!0)};b.prototype.Ap=function(){return!0};b.prototype.Mi=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.aa[a]=this.C[a].get();return Oa(this.xa.apply(this.b.nc,this.aa),this.Zh)};b.prototype.zp=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.aa[a]=this.C[a].get();a=this.xa.apply(this.ud?this.ud:this.type,this.aa);this.type.td();return a};b.prototype.Li=function(){var a,b,d,c,e,f,h,g,k=this.type,n=k.O(),q=this.cb.ic&&!this.trigger;
b=0;var l=k.ib,w=k.H,p=k.uc,r=this.Bb,v=-1<r,O=this.Je,E=this.C,A=this.aa,G=this.Zh,M=this.xa,C;if(O)for(b=0,e=E.length;b<e;++b)f=E[b],f.xb||(A[b]=f.get(0));else for(b=0,e=E.length;b<e;++b)A[b]=E[b].get(0);if(n.ba){R(n.c);R(n.G);C=k.c;a=0;for(c=C.length;a<c;++a){g=C[a];if(O)for(b=0,e=E.length;b<e;++b)f=E[b],f.xb&&(A[b]=f.get(a));v?(b=0,w&&(b=g.type.fe[p]),b=M.apply(g.u[r+b],A)):b=M.apply(g,A);(h=Oa(b,G))?n.c.push(g):q&&n.G.push(g)}k.finish&&k.finish(!0);n.ba=!1;k.td();return n.Yj()}d=0;C=(h=q&&!this.cb.Lo(this))?
n.G:n.c;var z=!1;a=0;for(c=C.length;a<c;++a){g=C[a];if(O)for(b=0,e=E.length;b<e;++b)f=E[b],f.xb&&(A[b]=f.get(a));v?(b=0,w&&(b=g.type.fe[p]),b=M.apply(g.u[r+b],A)):b=M.apply(g,A);if(Oa(b,G))if(z=!0,h){if(n.c.push(g),l)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.O().c.push(f)}else{C[d]=g;if(l)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.O().c[d]=f;d++}else if(h){C[d]=g;if(l)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.O().G[d]=f;d++}else if(q&&(n.G.push(g),
l))for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.O().G.push(f)}va(C,d);if(l)for(w=k.Ta,a=0,c=w.length;a<c;a++)g=w[a].O(),h?va(g.G,d):va(g.c,d);d=z;if(h&&!z)for(a=0,c=n.c.length;a<c;a++){g=n.c[a];if(O)for(b=0,e=E.length;b<e;b++)f=E[b],f.xb&&(A[b]=f.get(a));b=v?M.apply(g.u[r],A):M.apply(g,A);if(Oa(b,G)){z=!0;break}}k.finish&&k.finish(d||q);return q?z:n.Yj()};Lb=b;e.prototype.ea=function(){var a,b,d;a=0;for(b=this.C.length;a<b;a++)d=this.C[a],d.ea(),d.xb&&(this.Je=!0)};e.prototype.Mi=function(){var a=
this.b,b,d,c=this.C,e=this.aa;b=0;for(d=c.length;b<d;++b)e[b]=c[b].get();return this.xa.apply(a.nc,e)};e.prototype.Li=function(){var a=this.type,b=this.Bb,d=a.uc,c=this.Je,e=this.C,f=this.aa,h=this.xa,g=a.O().Gb(),a=a.H,k=-1<b,n,q,l,w,p,r;if(c)for(q=0,w=e.length;q<w;++q)p=e[q],p.xb||(f[q]=p.get(0));else for(q=0,w=e.length;q<w;++q)f[q]=e[q].get(0);n=0;for(l=g.length;n<l;++n){r=g[n];if(c)for(q=0,w=e.length;q<w;++q)p=e[q],p.xb&&(f[q]=p.get(n));k?(q=0,a&&(q=r.type.fe[d]),h.apply(r.u[b+q],f)):h.apply(r,
f)}return!1};Mb=e;var q=[],O=-1;a.prototype.ea=function(){var a,b;if(11===this.type)this.Cd=this.b.Uj(this.Pf,this.cb.parent);else if(13===this.type)for(a=0,b=this.Rd.length;a<b;a++)this.Rd[a].ea();this.fc&&this.fc.ea()};a.prototype.Wo=function(a){this.xb||!a||a.za.Sg||(this.xb=!0)};a.prototype.wl=function(){this.xb=!0};a.prototype.ro=function(a){this.Hc=a||0;a=c();this.fc.get(a);O--;return a.data};a.prototype.so=function(a){this.Hc=a||0;a=c();this.fc.get(a);O--;return L(a.data)?a.data:""};a.prototype.yo=
function(){return this.object};a.prototype.po=function(){return this.Cj};a.prototype.wo=function(a){this.Hc=a||0;a=c();this.fc.get(a);O--;return a.oa()?this.b.ho(a.data):this.b.fo(a.data)};a.prototype.xo=function(){return this.pa};a.prototype.vo=function(){return this.key};a.prototype.uo=function(){return this.index};a.prototype.to=function(a){a=a||0;var b=this.sb.type,d=null,d=b.O(),c=d.Gb();if(c.length)d=c[a%c.length].type;else if(d.G.length)d=d.G[a%d.G.length].type;else if(b.c.length)d=b.c[a%b.c.length].type;
else return 0;return this.index+d.eg[b.uc]};a.prototype.qo=function(){return this.Cd};a.prototype.oo=function(){return this.Nj};a.prototype.zo=function(){var a,b;a=0;for(b=this.Rd.length;a<b;a++)this.Of[a]=this.Rd[a].get();return this.Of};Nb=a;f.prototype.ea=function(){this.R=l(this.R)};f.prototype.Fp=function(a){var b=this.b.Sj();this.parent&&!this.mf&&b?(this.Md>=b.length&&(b.length=this.Md+1),b[this.Md]=a):this.data=a};f.prototype.no=function(){var a=this.b.Sj();return!this.parent||this.mf||!a||
this.rg?this.data:this.Md>=a.length||"undefined"===typeof a[this.Md]?this.Vh:a[this.Md]};f.prototype.na=function(){!this.parent||this.mf||this.rg||this.Fp(this.Vh)};Hb=f;k.prototype.toString=function(){return"include:"+this.cf.toString()};k.prototype.ea=function(){this.cf=this.b.Dh[this.Eo];this.sheet.ak.add(this);this.R=l(this.R);for(var a=this.parent;a;)a.group&&a.Wf.push(this),a=a.parent;this.Ul()};k.prototype.na=function(){this.parent&&this.b.Df(this.b.d);this.cf.Th||this.cf.na(!0);this.parent&&
this.b.ue(this.b.d)};k.prototype.Ul=function(){for(var a=this.parent;a;){if(a.group&&!a.Ze){this.bb=!1;return}a=a.parent}this.bb=!0};Qb=k;d.prototype.reset=function(a){this.fb=a;this.Qa=this.Sa=0;R(this.Fl);this.Bh=this.Id=!1};Gb=d})();
(function(){function g(h,b){this.sb=h;this.b=h.b;this.type=b[0];this.get=[this.Gn,this.Cn,this.Pn,this.Sn,this.rn,this.Qn,this.Kn,this.zn,this.Jn,this.On,this.sn,this.Nn,this.An,this.Ln,this.Hn,this.In,this.Dn,this.En,this.yn,this.Rn,this.Mn,this.Fn,this.xn,this.Bn][this.type];var e=null;this.Dc=this.C=this.aa=this.xa=this.Wg=this.second=this.first=this.value=null;this.Bb=-1;this.Hb=null;this.Xl=-1;this.Cd=this.Pf=null;this.ye=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new U(h,b[1]);break;case 18:this.first=new U(h,b[1]);this.second=new U(h,b[2]);this.Wg=new U(h,b[3]);break;case 19:this.xa=this.b.Mc(b[1]);this.xa!==Z.prototype.ad.random&&this.xa!==Z.prototype.ad.Fm||this.sb.wl();this.aa=[];this.C=[];3===b.length?(e=b[2],this.aa.length=e.length+1):this.aa.length=1;break;case 20:this.Dc=this.b.d[b[1]];this.Bb=-1;this.xa=this.b.Mc(b[2]);this.ye=b[3];Sb.Function&&this.xa===Sb.Function.prototype.ad.dq&&this.sb.wl();b[4]?this.Hb=new U(h,b[4]):this.Hb=null;this.aa=[];
this.C=[];6===b.length?(e=b[5],this.aa.length=e.length+1):this.aa.length=1;break;case 21:this.Dc=this.b.d[b[1]];this.ye=b[2];b[3]?this.Hb=new U(h,b[3]):this.Hb=null;this.Xl=b[4];break;case 22:this.Dc=this.b.d[b[1]];this.Dc.jg(b[2]);this.Bb=this.Dc.Kh(b[2]);this.xa=this.b.Mc(b[3]);this.ye=b[4];b[5]?this.Hb=new U(h,b[5]):this.Hb=null;this.aa=[];this.C=[];7===b.length?(e=b[6],this.aa.length=e.length+1):this.aa.length=1;break;case 23:this.Pf=b[1],this.Cd=null}this.sb.Wo(this.Dc);4<=this.type&&17>=this.type&&
(this.first=new U(h,b[1]),this.second=new U(h,b[2]));if(e){var c,a;c=0;for(a=e.length;c<a;c++)this.C.push(new U(h,e[c]))}}function n(){++r;v.length===r&&v.push(new Ob);return v[r]}function l(h,b,e){var c,a;c=0;for(a=h.length;c<a;++c)h[c].get(e),b[c+1]=e.data}function p(h,b){this.type=h||V.Xd;this.data=b||0;this.Nd=null;this.type==V.Xd&&(this.data=Math.floor(this.data))}g.prototype.ea=function(){23===this.type&&(this.Cd=this.sb.b.Uj(this.Pf,this.sb.cb.parent));this.first&&this.first.ea();this.second&&
this.second.ea();this.Wg&&this.Wg.ea();this.Hb&&this.Hb.ea();if(this.C){var h,b;h=0;for(b=this.C.length;h<b;h++)this.C[h].ea()}};var v=[],r=-1;g.prototype.Rn=function(h){var b=this.C,e=this.aa;e[0]=h;h=n();l(b,e,h);--r;this.xa.apply(this.b.nc,e)};g.prototype.Mn=function(h){var b=this.Dc,e=this.aa,c=this.C,a=this.Hb,f=this.xa,g=this.sb.Hc,d=b.O(),w=d.Gb();if(!w.length)if(d.G.length)w=d.G;else{this.ye?h.ab(""):h.P(0);return}e[0]=h;h.Nd=b;h=n();l(c,e,h);a&&(a.get(h),h.oa()&&(g=h.data,w=b.c));--r;b=w.length;
if(g>=b||g<=-b)g%=b;0>g&&(g+=b);f.apply(w[g],e)};g.prototype.xn=function(h){var b=this.Dc,e=this.aa,c=this.C,a=this.Hb,f=this.Bb,g=this.xa,d=this.sb.Hc,w=b.O(),q=w.Gb();if(!q.length)if(w.G.length)q=w.G;else{this.ye?h.ab(""):h.P(0);return}e[0]=h;h.Nd=b;h=n();l(c,e,h);a&&(a.get(h),h.oa()&&(d=h.data,q=b.c));--r;c=q.length;if(d>=c||d<=-c)d%=c;0>d&&(d+=c);d=q[d];q=0;b.H&&(q=d.type.fe[b.uc]);g.apply(d.u[f+q],e)};g.prototype.Fn=function(h){var b=this.Hb,e=this.Dc,c=this.Xl,a=this.sb.Hc,f=e.O(),g=f.Gb();
if(!g.length)if(f.G.length)g=f.G;else{this.ye?h.ab(""):h.P(0);return}if(b){f=n();b.get(f);if(f.oa()){a=f.data;g=e.c;0!==g.length&&(a%=g.length,0>a&&(a+=g.length));a=e.Oh(a);e=a.ia[c];L(e)?h.ab(e):h.D(e);--r;return}--r}b=g.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=g[a];g=0;e.H&&(g=a.type.eg[e.uc]);e=a.ia[c+g];L(e)?h.ab(e):h.D(e)};g.prototype.Gn=function(h){h.type=V.Xd;h.data=this.value};g.prototype.Cn=function(h){h.type=V.Wd;h.data=this.value};g.prototype.Pn=function(h){h.type=V.String;h.data=this.value};
g.prototype.Sn=function(h){this.first.get(h);h.oa()&&(h.data=-h.data)};g.prototype.rn=function(h){this.first.get(h);var b=n();this.second.get(b);h.oa()&&b.oa()&&(h.data+=b.data,b.ie()&&h.pe());--r};g.prototype.Qn=function(h){this.first.get(h);var b=n();this.second.get(b);h.oa()&&b.oa()&&(h.data-=b.data,b.ie()&&h.pe());--r};g.prototype.Kn=function(h){this.first.get(h);var b=n();this.second.get(b);h.oa()&&b.oa()&&(h.data*=b.data,b.ie()&&h.pe());--r};g.prototype.zn=function(h){this.first.get(h);var b=
n();this.second.get(b);h.oa()&&b.oa()&&(h.data/=b.data,h.pe());--r};g.prototype.Jn=function(h){this.first.get(h);var b=n();this.second.get(b);h.oa()&&b.oa()&&(h.data%=b.data,b.ie()&&h.pe());--r};g.prototype.On=function(h){this.first.get(h);var b=n();this.second.get(b);h.oa()&&b.oa()&&(h.data=Math.pow(h.data,b.data),b.ie()&&h.pe());--r};g.prototype.sn=function(h){this.first.get(h);var b=n();this.second.get(b);b.ke()||h.ke()?this.un(h,b):this.tn(h,b);--r};g.prototype.un=function(h,b){h.ke()&&b.ke()?
this.wn(h,b):this.vn(h,b)};g.prototype.wn=function(h,b){h.data+=b.data};g.prototype.vn=function(h,b){h.ke()?h.data+=(Math.round(1E10*b.data)/1E10).toString():h.ab(h.data.toString()+b.data)};g.prototype.tn=function(h,b){h.P(h.data&&b.data?1:0)};g.prototype.Nn=function(h){this.first.get(h);var b=n();this.second.get(b);h.oa()&&b.oa()&&(h.data||b.data?h.P(1):h.P(0));--r};g.prototype.yn=function(h){this.first.get(h);h.data?this.second.get(h):this.Wg.get(h)};g.prototype.An=function(h){this.first.get(h);
var b=n();this.second.get(b);h.P(h.data===b.data?1:0);--r};g.prototype.Ln=function(h){this.first.get(h);var b=n();this.second.get(b);h.P(h.data!==b.data?1:0);--r};g.prototype.Hn=function(h){this.first.get(h);var b=n();this.second.get(b);h.P(h.data<b.data?1:0);--r};g.prototype.In=function(h){this.first.get(h);var b=n();this.second.get(b);h.P(h.data<=b.data?1:0);--r};g.prototype.Dn=function(h){this.first.get(h);var b=n();this.second.get(b);h.P(h.data>b.data?1:0);--r};g.prototype.En=function(h){this.first.get(h);
var b=n();this.second.get(b);h.P(h.data>=b.data?1:0);--r};g.prototype.Bn=function(h){var b=this.Cd.no();ia(b)?h.D(b):h.ab(b)};U=g;p.prototype.ie=function(){return this.type===V.Wd};p.prototype.oa=function(){return this.type===V.Xd||this.type===V.Wd};p.prototype.ke=function(){return this.type===V.String};p.prototype.pe=function(){this.ie()||(this.ke()&&(this.data=parseFloat(this.data)),this.type=V.Wd)};p.prototype.P=function(h){this.type=V.Xd;this.data=Math.floor(h)};p.prototype.D=function(h){this.type=
V.Wd;this.data=h};p.prototype.ab=function(h){this.type=V.String;this.data=h};p.prototype.Gp=function(h){ia(h)?(this.type=V.Wd,this.data=h):L(h)?(this.type=V.String,this.data=h.toString()):(this.type=V.Xd,this.data=0)};Ob=p;V={Xd:0,Wd:1,String:2}})();function Z(g){this.b=g;this.Pa=[]}
Z.prototype.Pb=function(){var g={},n,l,p,v,r,h,b,e;g.waits=[];var c=g.waits,a;n=0;for(l=this.Pa.length;n<l;n++){h=this.Pa[n];a={t:h.time,st:h.Bl,s:h.Qi,ev:h.ee.F,sm:[],sols:{}};h.ee.yb[h.Qa]&&(a.act=h.ee.yb[h.Qa].F);p=0;for(v=h.R.length;p<v;p++)a.sm.push(h.R[p].F);for(r in h.Ha)if(h.Ha.hasOwnProperty(r)){b=this.b.d[parseInt(r,10)];e={sa:h.Ha[r].Og,insts:[]};p=0;for(v=h.Ha[r].wc.length;p<v;p++)e.insts.push(h.Ha[r].wc[p].uid);a.sols[b.F.toString()]=e}c.push(a)}return g};
Z.prototype.Cc=function(g){g=g.waits;var n,l,p,v,r,h,b,e,c,a,f;R(this.Pa);n=0;for(l=g.length;n<l;n++)if(h=g[n],e=this.b.uj[h.ev.toString()]){c=-1;p=0;for(v=e.yb.length;p<v;p++)if(e.yb[p].F===h.act){c=p;break}if(-1!==c){b={Ha:{},R:[],Ah:!1};b.time=h.t;b.Bl=h.st||"";b.Qi=!!h.s;b.ee=e;b.Qa=c;p=0;for(v=h.sm.length;p<v;p++)(e=this.b.lg(h.sm[p]))&&b.R.push(e);for(r in h.sols)if(h.sols.hasOwnProperty(r)&&(e=this.b.lg(parseInt(r,10)))){c=h.sols[r];a={Og:c.sa,wc:[]};p=0;for(v=c.insts.length;p<v;p++)(f=this.b.Xj(c.insts[p]))&&
a.wc.push(f);b.Ha[e.index.toString()]=a}this.Pa.push(b)}}};
(function(){function g(){}function n(){}function l(){}var p=Z.prototype;g.prototype.pm=function(){return!0};g.prototype.om=function(){return!0};g.prototype.em=function(){var h=this.b.Ma();return h.Bh?!1:!h.Id};g.prototype.fj=function(){return!0};g.prototype.mm=function(){return!0};g.prototype.eh=function(){return!0};g.prototype.gj=function(){return!0};g.prototype.qm=function(){return!0};g.prototype.Tf=function(){return!0};g.prototype.$l=function(h,b,e){return Ja(T(h),T(e))<=T(b)};g.prototype.hm=function(h,
b){return La(T(h),T(b))};g.prototype.gm=function(h,b,e){h=Ha(h);b=Ha(b);e=Ha(e);return La(e,b)?La(h,b)&&!La(h,e):!(!La(h,b)&&La(h,e))};p.A=new g;var v=[],r=[];n.prototype.tm=function(h){if(!(0>h)){var b,e,c,a=this.b.Ma(),f;v.length?f=v.pop():f={Ha:{},R:[]};f.Ah=!1;f.time=this.b.jb.W+h;f.Bl="";f.Qi=!1;f.ee=a.fb;f.Qa=a.Qa+1;h=0;for(b=this.b.d.length;h<b;h++)c=this.b.d[h],e=c.O(),e.ba&&-1===a.fb.R.indexOf(c)||(f.R.push(c),c=void 0,r.length?c=r.pop():c={wc:[]},c.Og=!1,c.Og=e.ba,wa(c.wc,e.c),f.Ha[h.toString()]=
c);this.Pa.push(f);return!0}};p.Qc=new n;l.prototype["int"]=function(h,b){L(b)?(h.P(parseInt(b,10)),isNaN(h.data)&&(h.data=0)):h.P(b)};l.prototype["float"]=function(h,b){L(b)?(h.D(parseFloat(b)),isNaN(h.data)&&(h.data=0)):h.D(b)};l.prototype.random=function(h,b,e){void 0===e?h.D(Math.random()*b):h.D(Math.random()*(e-b)+b)};l.prototype.sqrt=function(h,b){h.D(Math.sqrt(b))};l.prototype.abs=function(h,b){h.D(Math.abs(b))};l.prototype.round=function(h,b){h.P(Math.round(b))};l.prototype.floor=function(h,
b){h.P(Math.floor(b))};l.prototype.ceil=function(h,b){h.P(Math.ceil(b))};l.prototype.sin=function(h,b){h.D(Math.sin(T(b)))};l.prototype.cos=function(h,b){h.D(Math.cos(T(b)))};l.prototype.tan=function(h,b){h.D(Math.tan(T(b)))};l.prototype.asin=function(h,b){h.D(Da(Math.asin(b)))};l.prototype.acos=function(h,b){h.D(Da(Math.acos(b)))};l.prototype.atan=function(h,b){h.D(Da(Math.atan(b)))};l.prototype.exp=function(h,b){h.D(Math.exp(b))};l.prototype.log10=function(h,b){h.D(Math.log(b)/Math.LN10)};l.prototype.max=
function(h){var b=arguments[1];"number"!==typeof b&&(b=0);var e,c,a;e=2;for(c=arguments.length;e<c;e++)a=arguments[e],"number"===typeof a&&b<a&&(b=a);h.D(b)};l.prototype.min=function(h){var b=arguments[1];"number"!==typeof b&&(b=0);var e,c,a;e=2;for(c=arguments.length;e<c;e++)a=arguments[e],"number"===typeof a&&b>a&&(b=a);h.D(b)};l.prototype.de=function(h){h.D(this.b.de)};l.prototype.Nf=function(h){h.D(this.b.Nf)};l.prototype.time=function(h){h.D(this.b.jb.W)};l.prototype.Mf=function(h){h.P(this.b.Mf)};
l.prototype.Hg=function(h){h.P(this.b.Hg)};l.prototype.Ih=function(h){h.P(this.b.Ih)};l.prototype.k=function(h,b,e,c,a){h.D(Da(Ia(b,e,c,a)))};l.prototype.left=function(h,b,e){h.ab(L(b)?b.substr(0,e):"")};l.prototype.right=function(h,b,e){h.ab(L(b)?b.substr(b.length-e):"")};l.prototype.replace=function(h,b,e,c){L(b)&&L(e)&&L(c)?h.ab(b.replace(new RegExp(Wa(e),"gi"),c)):h.ab(L(b)?b:"")};l.prototype.trim=function(h,b){h.ab(L(b)?b.trim():"")};l.prototype.Fm=function(h){var b=N(Math.random()*(arguments.length-
1));h.Gp(arguments[b+1])};l.prototype.vh=function(h){h.D(this.b.vh/1E3)};l.prototype.Ag=function(h){h.D(this.b.Ag)};p.ad=new l;p.wp=function(){var h,b,e,c,a,f,g=this.b.Ma();h=0;for(e=this.Pa.length;h<e;h++){c=this.Pa[h];if(-1===c.time){if(!c.Qi)continue}else if(c.time>this.b.jb.W)continue;g.fb=c.ee;g.Qa=c.Qa;g.Sa=0;for(b in c.Ha)c.Ha.hasOwnProperty(b)&&(a=this.b.d[parseInt(b,10)].O(),f=c.Ha[b],a.ba=f.Og,wa(a.c,f.wc),a=f,R(a.wc),r.push(a));c.ee.vp();this.b.th(c.R);c.Ah=!0}b=h=0;for(e=this.Pa.length;h<
e;h++)c=this.Pa[h],this.Pa[b]=c,c.Ah?(Qa(c.Ha),R(c.R),v.push(c)):b++;va(this.Pa,b)}})();
(function(){fb=function(g,l){var p=g[1],v=g[3],r=g[4],h=g[5],b=g[6],e=g[7],c=g[8];l.A||(l.A={});l.Qc||(l.Qc={});l.ad||(l.ad={});var a=l.A,f=l.Qc,k=l.ad;v&&(a.jq=function(a,b){return Rb(this.x,a,b)},a.kq=function(a,b){return Rb(this.y,a,b)},a.rq=function(){var a=this.g;this.Ja();var b=this.Da;return!(b.right<a.L||b.bottom<a.M||b.left>a.T||b.top>a.S)},a.sq=function(){this.Ja();var a=this.Da,b=this.b.K;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.Eq=function(a,b,c){var e=this.O(),
f=e.Gb();if(!f.length)return!1;var g=f[0],h=g,k=Ma(g.x,g.y,b,c),n,l,p;n=1;for(l=f.length;n<l;n++)if(g=f[n],p=Ma(g.x,g.y,b,c),0===a&&p<k||1===a&&p>k)k=p,h=g;e.Bf(h);return!0},f.Zq=function(a){this.x!==a&&(this.x=a,this.ra())},f.$q=function(a){this.y!==a&&(this.y=a,this.ra())},f.Tq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ra()},f.Uq=function(a,b){var c=a.jo(this);if(c){var e;c.Nh?(e=c.Nh(b,!0),c=c.Nh(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.ra()}},
f.xq=function(a){0!==a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.ra())},f.wq=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.ra())},k.fr=function(a){a.D(this.x)},k.gr=function(a){a.D(this.y)},k.de=function(a){a.D(this.b.Tj(this))});r&&(a.iq=function(a,b){return Rb(this.width,a,b)},a.fq=function(a,b){return Rb(this.height,a,b)},f.Yq=function(a){this.width!==a&&(this.width=a,this.ra())},f.Qq=function(a){this.height!==a&&(this.height=a,this.ra())},f.Vq=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ra()},k.er=function(a){a.D(this.width)},k.nq=function(a){a.D(this.height)},k.aq=function(a){this.Ja();a.D(this.Da.left)},k.cq=function(a){this.Ja();a.D(this.Da.top)},k.bq=function(a){this.Ja();a.D(this.Da.right)},k.$p=function(a){this.Ja();a.D(this.Da.bottom)});h&&(a.$l=function(a,b){return Ja(this.k,T(b))<=T(a)},a.hm=function(a){return La(this.k,T(a))},a.gm=function(a,b){var c=Ha(a),e=Ha(b),f=Fa(this.k);return La(e,
c)?La(f,c)&&!La(f,e):!(!La(f,c)&&La(f,e))},f.Mq=function(a){a=T(Ea(a));isNaN(a)||this.k===a||(this.k=a,this.ra())},f.Iq=function(a){0===a||isNaN(a)||(this.k+=T(a),this.k=Fa(this.k),this.ra())},f.Jq=function(a){0===a||isNaN(a)||(this.k-=T(a),this.k=Fa(this.k),this.ra())},f.Kq=function(a,b){var c=Ka(this.k,T(b),T(a));isNaN(c)||this.k===c||(this.k=c,this.ra())},f.Lq=function(a,b,c){a=Ka(this.k,Math.atan2(c-this.y,b-this.x),T(a));isNaN(a)||this.k===a||(this.k=a,this.ra())},f.Wq=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.k===c||(this.k=c,this.ra())},k.Zp=function(a){a.D(Ga(this.k))});p||(a.gq=function(a,b,c){return Rb(this.ia[a],b,c)},a.pq=function(a){return this.ia[a]},a.Fq=function(a,b){var c=this.O(),e=c.Gb();if(!e.length)return!1;var f=e[0],g=f,h=f.ia[b],k,n,l;k=1;for(n=e.length;k<n;k++)if(f=e[k],l=f.ia[b],0===a&&l<h||1===a&&l>h)h=l,g=f;c.Bf(g);return!0},a.Dq=function(a){var b,c,e,f,g;if(this.b.$n().Zh){g=this.O();if(g.ba)for(g.ba=!1,R(g.c),R(g.G),e=this.c,b=0,c=e.length;b<c;b++)f=
e[b],f.uid===a?g.G.push(f):g.c.push(f);else{e=b=0;for(c=g.c.length;b<c;b++)f=g.c[b],g.c[e]=f,f.uid===a?g.G.push(f):e++;va(g.c,e)}this.td();return!!g.c.length}f=this.b.Xj(a);if(!f)return!1;g=this.O();if(!g.ba&&-1===g.c.indexOf(f))return!1;if(this.H)for(a=f.type.V,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.Bf(f),this.td(),!0}else if(f.type===this)return g.Bf(f),this.td(),!0;return!1},a.ej=function(){return!0},a.nm=function(){return!0},f.Rq=function(a,b){var c=this.ia;ia(c[a])?c[a]=ia(b)?b:parseFloat(b):
L(c[a])&&(c[a]=L(b)?b:b.toString())},f.Yp=function(a,b){var c=this.ia;ia(c[a])?c[a]=ia(b)?c[a]+b:c[a]+parseFloat(b):L(c[a])&&(c[a]=L(b)?c[a]+b:c[a]+b.toString())},f.br=function(a,b){var c=this.ia;ia(c[a])&&(c[a]=ia(b)?c[a]-b:c[a]-parseFloat(b))},f.Nq=function(a,b){this.ia[a]=b?1:0},f.cr=function(a){this.ia[a]=1-this.ia[a]},f.mq=function(){this.b.Vd(this)},f.jm||(f.jm=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.zg(this,b,!0);this.qd&&this.qd();if(this.u)for(a=0,b=this.u.length;a<
b;++a)c=this.u[a],c.qd&&c.qd()}),k.lq=function(a){var b=a.Nd.c.length,c,e,f;c=0;for(e=this.b.ac.length;c<e;c++)f=this.b.ac[c],a.Nd.H?0<=f.type.V.indexOf(a.Nd)&&b++:f.type===a.Nd&&b++;a.P(b)},k.Hq=function(a){a.P(a.Nd.O().Gb().length)},k.dr=function(a){a.P(this.uid)},k.oq=function(a){a.P(this.Ye())},k.am||(k.am=function(a){a.ab(JSON.stringify(this.b.Ni(this,!0)))}));b&&(a.tq=function(){return this.visible},f.Xq=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.J=!0)},a.hq=function(a,b){return Rb(bb(100*
this.opacity),a,b)},f.Sq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.J=!0)},k.Opacity=function(a){a.D(bb(100*this.opacity))});e&&(a.qq=function(a){return a?this.g===a:!1},a.Gq=function(a){var b=this.O(),c=b.Gb();if(!c.length)return!1;var e=c[0],f=e,g,h;g=1;for(h=c.length;g<h;g++)if(e=c[g],0===a){if(e.g.index>f.g.index||e.g.index===f.g.index&&e.gc()>f.gc())f=e}else if(e.g.index<f.g.index||e.g.index===f.g.index&&e.gc()<f.gc())f=e;b.Bf(f);return!0},f.Aq=function(){var a=
this.g,b=a.c;b.length&&b[b.length-1]===this||(a.xe(this,!1),a.Le(this,!1),this.b.J=!0)},f.yq=function(){var a=this.g,b=a.c;b.length&&b[0]===this||(a.xe(this,!1),a.op(this),this.b.J=!0)},f.zq=function(a){a&&a!=this.g&&(this.g.xe(this,!0),this.g=a,a.Le(this,!0),this.b.J=!0)},f.ir=function(a,b){var c=0===a;if(b){var e=b.ao(this);e&&e.uid!==this.uid&&(this.g.index!==e.g.index&&(this.g.xe(this,!0),this.g=e.g,e.g.Le(this,!0)),this.g.Xo(this,e,c),this.b.J=!0)}},k.vq=function(a){a.P(this.g.Rk)},k.uq=function(a){a.ab(this.g.name)},
k.hr=function(a){a.P(this.gc())});c&&(f.Oq=function(a,b){if(this.b.i){var c=this.type.Mh(b);if(!(0>c)){var e=1===a;this.Pc[c]!==e&&(this.Pc[c]=e,this.Vb(),this.b.J=!0)}}},f.Pq=function(a,b,c){if(this.b.i){var e=this.type.Mh(a);0>e||(a=this.type.q[e],e=this.Z[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.i.mo(a.ha,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.bb&&(this.b.J=!0))))}})};yb=function(){this.nh=this.hh=!0;this.type.lj=!0;this.b.J=!0;var g,l,p=this.ih;g=0;for(l=p.length;g<l;++g)p[g](this);this.g.mb&&
this.Ja()};zb=function(g){g&&this.ih.push(g)};Bb=function(){if(this.hh){var g=this.Da,l=this.Uf;g.set(this.x,this.y,this.x+this.width,this.y+this.height);g.offset(-this.Va*this.width,-this.Wa*this.height);this.k?(g.offset(-this.x,-this.y),l.xl(g,this.k),l.offset(this.x,this.y),l.vj(g)):l.Ff(g);g.normalize();this.hh=!1;this.Pp()}};var g=new Q(0,0,0,0);Cb=function(){if(this.g.mb){var n=this.g.Aa,l=this.Da;g.set(n.Ka(l.left),n.La(l.top),n.Ka(l.right),n.La(l.bottom));this.Na.Ue(g)||(this.Na.right<this.Na.left?
n.update(this,null,g):n.update(this,this.Na,g),this.Na.Qe(g),this.g.Ob=!0)}};Db=function(){if(this.nh&&this.Oe){this.Ja();var n=this.type.Bj,l=this.Da;g.set(n.Ka(l.left),n.La(l.top),n.Ka(l.right),n.La(l.bottom));this.Wc.Ue(g)||(this.Wc.right<this.Wc.left?n.update(this,null,g):n.update(this,this.Wc,g),this.Wc.Qe(g),this.nh=!1)}};Ab=function(g,l){return this.Da.$b(g,l)&&this.Uf.$b(g,l)?this.Ll?this.ur(g,l):this.Zb&&!this.Zb.Po()?(this.Zb.Dm(this.width,this.height,this.k),this.Zb.$b(g-this.x,l-this.y)):
!0:!1};ub=function(){this.type.Zg();return this.Fd};Eb=function(){this.g.$i();return this.Xb};Fb=function(){R(this.I);var g,l,p,v=!0;g=0;for(l=this.Pc.length;g<l;g++)this.Pc[g]&&(p=this.type.q[g],this.I.push(p),p.Lb||(v=!1));this.Wl=!!this.I.length;this.Gc=v};vb=function(){return"Inst"+this.hl};ib=function(g){if(g&&g.ib&&g.type!=this){var l,p,v;l=0;for(p=g.siblings.length;l<p;l++)if(v=g.siblings[l],v.type==this)return v}g=this.O().Gb();return g.length?g[0]:null};jb=function(g){var l=this.O().Gb();
return l.length?l[g.Ye()%l.length]:null};hb=function(){if(this.Ce&&!this.H){var g,l;g=0;for(l=this.c.length;g<l;g++)this.c[g].Fd=g;var p=g,v=this.b.ac;g=0;for(l=v.length;g<l;++g)v[g].type===this&&(v[g].Fd=p++);this.Ce=!1}};sb=function(g){if(g<this.c.length)return this.c[g];g-=this.c.length;var l=this.b.ac,p,v;p=0;for(v=l.length;p<v;++p)if(l[p].type===this){if(0===g)return l[p];--g}return null};kb=function(){return this.Ic[this.cc]};lb=function(){this.cc++;this.cc===this.Ic.length?this.Ic.push(new gb(this)):
(this.Ic[this.cc].ba=!0,R(this.Ic[this.cc].G))};mb=function(){this.cc++;this.cc===this.Ic.length&&this.Ic.push(new gb(this));var g=this.Ic[this.cc],l=this.Ic[this.cc-1];l.ba?(g.ba=!0,R(g.G)):(g.ba=!1,wa(g.c,l.c),wa(g.G,l.G))};nb=function(){this.cc--};ob=function(g){var l,p,v,r,h,b=0;if(!this.H)for(l=0,p=this.V.length;l<p;l++)for(h=this.V[l],v=0,r=h.X.length;v<r;v++){if(g===h.X[v].name)return this.U.lastBehIndex=b,h.X[v];b++}l=0;for(p=this.X.length;l<p;l++){if(g===this.X[l].name)return this.U.lastBehIndex=
b,this.X[l];b++}return null};pb=function(g){return this.jg(g)?this.U.lastBehIndex:-1};qb=function(g){var l,p;l=0;for(p=this.q.length;l<p;l++)if(this.q[l].name===g)return l;return-1};rb=function(){if(this.ib&&!this.H){var g,l,p,v,r,h,b;this.Zg();h=this.O();var e=h.ba,c=(g=this.b.Ma())&&g.fb&&g.fb.ic;g=0;for(l=this.Ta.length;g<l;g++)if(r=this.Ta[g],r!==this&&(r.Zg(),b=r.O(),b.ba=e,!e)){R(b.c);p=0;for(v=h.c.length;p<v;++p)b.c[p]=r.Oh(h.c[p].Fd);if(c)for(R(b.G),p=0,v=h.G.length;p<v;++p)b.G[p]=r.Oh(h.G[p].Fd)}}};
tb=function(){return"Type"+this.F};Rb=function(g,l,p){if("undefined"===typeof g||"undefined"===typeof p)return!1;switch(l){case 0:return g===p;case 1:return g!==p;case 2:return g<p;case 3:return g<=p;case 4:return g>p;case 5:return g>=p;default:return!1}}})();var Zb={};function ac(g){this.b=g}
(function(){function g(){if(0===this.yh.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var c=b.getContext("2d");this.Be?c.drawImage(this.ta,this.qe,this.re,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.ta,0,0,this.width,this.height);this.yh=b.toDataURL("image/png")}return this.yh}function n(){}var l=ac.prototype;l.Ie=function(b){this.za=b;this.b=b.b};var p=l.Ie.prototype;p.Ya=function(){if(!this.H){var b,c,a,f,h,d,l,n,p;this.zb=[];this.bf=
!1;b=0;for(c=this.Ra.length;b<c;b++){h=this.Ra[b];l={};l.name=h[0];l.speed=h[1];l.loop=h[2];l.Hi=h[3];l.Ii=h[4];l.$k=h[5];l.F=h[6];l.frames=[];a=0;for(f=h[7].length;a<f;a++)d=h[7][a],n={},n.Gl=d[0],n.Hl=d[1],n.qe=d[2],n.re=d[3],n.width=d[4],n.height=d[5],n.duration=d[6],n.Va=d[7],n.Wa=d[8],n.Uh=d[9],n.Jg=d[10],n.al=d[11],n.Be=0!==n.width,n.yh="",n.mr=g,p={left:0,top:0,right:1,bottom:1},n.Pi=p,n.fa=null,(p=this.b.Wn(d[0]))?n.ta=p:(n.ta=new Image,n.ta.Im=d[0],n.ta.Hm=d[1],n.ta.Cm=null,this.b.Up(n.ta,
d[0])),l.frames.push(n),this.zb.push(n);this.Ra[b]=l}}};p.Vl=function(){var b,c,a;b=0;for(c=this.c.length;b<c;b++)a=this.c[b],a.Yf=a.ua.fa};p.si=function(){if(!this.H){var b,c,a;b=0;for(c=this.zb.length;b<c;++b)a=this.zb[b],a.ta.Cm=null,a.fa=null;this.bf=!1;this.Vl()}};p.Wk=function(){if(!this.H&&this.c.length){var b,c,a;b=0;for(c=this.zb.length;b<c;++b)a=this.zb[b],a.fa=this.b.i.sk(a.ta,this.b.da,a.al);this.Vl()}};p.To=function(){if(!this.H&&!this.bf&&this.b.i){var b,c,a;b=0;for(c=this.zb.length;b<
c;++b)a=this.zb[b],a.fa=this.b.i.sk(a.ta,this.b.da,a.al);this.bf=!0}};p.Sl=function(){if(!this.H&&!this.c.length&&this.bf){var b,c,a;b=0;for(c=this.zb.length;b<c;++b)a=this.zb[b],this.b.i.deleteTexture(a.fa),a.fa=null;this.bf=!1}};var v=[];p.el=function(b){var c,a,f;R(v);c=0;for(a=this.zb.length;c<a;++c)f=this.zb[c].ta,-1===v.indexOf(f)&&(b.drawImage(f,0,0),v.push(f))};l.Nc=function(b){this.type=b;this.b=b.b;b=this.type.Ra[0].frames[0].Jg;this.Nb?this.Zb.Gf(b):this.Zb=new Xa(b)};var r=l.Nc.prototype;
r.Ya=function(){this.visible=0===this.Za[0];this.Oe=0!==this.Za[3];this.Q=this.Rj(this.Za[1])||this.type.Ra[0];this.j=this.Za[2];0>this.j&&(this.j=0);this.j>=this.Q.frames.length&&(this.j=this.Q.frames.length-1);var b=this.Q.frames[this.j];this.Zb.Gf(b.Jg);this.Va=b.Va;this.Wa=b.Wa;this.$d=this.Q.speed;this.Xc=this.Q.Ii;1===this.type.Ra.length&&1===this.type.Ra[0].frames.length||0===this.$d||this.b.Kl(this);this.Nb?this.Yb.reset():this.Yb=new Va;this.vc=this.Yb.W;this.sd=!0;this.oc=0;this.rd=!0;this.rh=
this.jj="";this.Em=0;this.qh=-1;this.type.To();var c,a,f,g,d,h,l,b=0;for(c=this.type.Ra.length;b<c;b++)for(g=this.type.Ra[b],a=0,f=g.frames.length;a<f;a++)d=g.frames[a],0===d.width&&(d.width=d.ta.width,d.height=d.ta.height),d.Be&&(l=d.ta,h=d.Pi,h.left=d.qe/l.width,h.top=d.re/l.height,h.right=(d.qe+d.width)/l.width,h.bottom=(d.re+d.height)/l.height,0===d.qe&&0===d.re&&d.width===l.width&&d.height===l.height&&(d.Be=!1));this.ua=this.Q.frames[this.j];this.Yf=this.ua.fa};r.Pb=function(){var b={a:this.Q.F,
f:this.j,cas:this.$d,fs:this.vc,ar:this.oc,at:this.Yb.W,rt:this.Xc};this.sd||(b.ap=this.sd);this.rd||(b.af=this.rd);return b};r.Cc=function(b){var c=this.Yn(b.a);c&&(this.Q=c);this.j=b.f;0>this.j&&(this.j=0);this.j>=this.Q.frames.length&&(this.j=this.Q.frames.length-1);this.$d=b.cas;this.vc=b.fs;this.oc=b.ar;this.Yb.reset();this.Yb.W=b.at;this.sd=b.hasOwnProperty("ap")?b.ap:!0;this.rd=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.Xc=b.rt:this.Xc=this.Q.Ii;this.ua=this.Q.frames[this.j];
this.Yf=this.ua.fa;this.Zb.Gf(this.ua.Jg);this.Va=this.ua.Va;this.Wa=this.ua.Wa};r.gh=function(b){this.j=b?0:this.Q.frames.length-1;this.sd=!1;this.jj=this.Q.name;this.b.trigger(ac.prototype.A.lm,this);this.b.trigger(ac.prototype.A.km,this);this.oc=0};r.pj=function(){return this.Yb.W};r.Sd=function(){this.Yb.add(this.b.Tj(this));this.rh.length&&this.Nm();0<=this.qh&&this.Om();var b=this.Yb.W,c=this.Q,a=c.frames[this.j],f=a.duration/this.$d;this.sd&&b>=this.vc+f&&(this.rd?this.j++:this.j--,this.vc+=
f,this.j>=c.frames.length&&(c.$k?(this.rd=!1,this.j=c.frames.length-2):c.loop?this.j=this.Xc:(this.oc++,this.oc>=c.Hi?this.gh(!1):this.j=this.Xc)),0>this.j&&(c.$k?(this.j=1,this.rd=!0,c.loop||(this.oc++,this.oc>=c.Hi&&this.gh(!0))):c.loop?this.j=this.Xc:(this.oc++,this.oc>=c.Hi?this.gh(!0):this.j=this.Xc)),0>this.j?this.j=0:this.j>=c.frames.length&&(this.j=c.frames.length-1),b>this.vc+c.frames[this.j].duration/this.$d&&(this.vc=b),b=c.frames[this.j],this.Yd(a,b),this.b.J=!0)};r.Rj=function(b){var c,
a,f;c=0;for(a=this.type.Ra.length;c<a;c++)if(f=this.type.Ra[c],cb(f.name,b))return f;return null};r.Yn=function(b){var c,a,f;c=0;for(a=this.type.Ra.length;c<a;c++)if(f=this.type.Ra[c],f.F===b)return f;return null};r.Nm=function(){var b=this.Q.frames[this.j],c=this.Rj(this.rh);this.rh="";!c||cb(c.name,this.Q.name)&&this.sd||(this.Q=c,this.$d=c.speed,this.Xc=c.Ii,0>this.j&&(this.j=0),this.j>=this.Q.frames.length&&(this.j=this.Q.frames.length-1),1===this.Em&&(this.j=0),this.sd=!0,this.vc=this.Yb.W,this.rd=
!0,this.Yd(b,this.Q.frames[this.j]),this.b.J=!0)};r.Om=function(){var b=this.Q.frames[this.j],c=this.j;this.j=N(this.qh);0>this.j&&(this.j=0);this.j>=this.Q.frames.length&&(this.j=this.Q.frames.length-1);c!==this.j&&(this.Yd(b,this.Q.frames[this.j]),this.vc=this.Yb.W,this.b.J=!0);this.qh=-1};r.Yd=function(b,c){var a=b.width,f=b.height,g=c.width,d=c.height;a!=g&&(this.width*=g/a);f!=d&&(this.height*=d/f);this.Va=c.Va;this.Wa=c.Wa;this.Zb.Gf(c.Jg);this.ra();this.ua=c;this.Yf=c.fa;a=0;for(f=this.u.length;a<
f;a++)g=this.u[a],g.dp&&g.dp(b,c);this.b.trigger(ac.prototype.A.Yd,this)};r.Yc=function(b){b.globalAlpha=this.opacity;var c=this.ua,a=c.Be,f=c.ta,g=this.x,d=this.y,h=this.width,l=this.height;if(0===this.k&&0<=h&&0<=l)g-=this.Va*h,d-=this.Wa*l,this.b.Od&&(g=Math.round(g),d=Math.round(d)),a?b.drawImage(f,c.qe,c.re,c.width,c.height,g,d,h,l):b.drawImage(f,g,d,h,l);else{this.b.Od&&(g=Math.round(g),d=Math.round(d));b.save();var n=0<h?1:-1,m=0<l?1:-1;b.translate(g,d);1===n&&1===m||b.scale(n,m);b.rotate(this.k*
n*m);g=0-this.Va*la(h);d=0-this.Wa*la(l);a?b.drawImage(f,c.qe,c.re,c.width,c.height,g,d,la(h),la(l)):b.drawImage(f,g,d,la(h),la(l));b.restore()}};r.be=function(b){this.nb(b)};r.nb=function(b){b.lb(this.Yf);b.ze(this.opacity);var c=this.ua,a=this.Uf;if(this.b.Od){var f=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;c.Be?b.Pd(a.Qb+f,a.Rb+g,a.Tb+f,a.Ub+g,a.Eb+f,a.Fb+g,a.Cb+f,a.Db+g,c.Pi):b.we(a.Qb+f,a.Rb+g,a.Tb+f,a.Ub+g,a.Eb+f,a.Fb+g,a.Cb+f,a.Db+g)}else c.Be?b.Pd(a.Qb,a.Rb,a.Tb,a.Ub,a.Eb,a.Fb,
a.Cb,a.Db,c.Pi):b.we(a.Qb,a.Rb,a.Tb,a.Ub,a.Eb,a.Fb,a.Cb,a.Db)};r.co=function(b){var c=this.ua,a,f;a=0;for(f=c.Uh.length;a<f;a++)if(cb(b,c.Uh[a][0]))return a;return-1};r.Nh=function(b,c){var a=this.ua,f=a.Uh,g;L(b)?g=this.co(b):g=b-1;g=N(g);if(0>g||g>=f.length)return c?this.x:this.y;var d=(f[g][1]-a.Va)*this.width,f=f[g][2],f=(f-a.Wa)*this.height,a=Math.cos(this.k);g=Math.sin(this.k);var h=d*a-f*g,f=f*a+d*g,d=h+this.x,f=f+this.y;return c?d:f};var h=new x,b=!1;new Q(0,0,0,0);p.finish=function(e){if(b){if(e){var c=
this.b.Ma().fb.ic;e=null.O();var a=h.pd(),f,g;if(e.ba){e.ba=!1;R(e.c);f=0;for(g=a.length;f<g;++f)e.c[f]=a[f];if(c)for(R(e.G),f=0,g=null.c.length;f<g;++f)a=null.c[f],h.contains(a)||e.G.push(a)}else if(c)for(c=e.c.length,f=0,g=a.length;f<g;++f)e.c[c+f]=a[f],za(e.G,a[f]);else wa(e.c,a);null.td()}h.clear();b=!1}};n.prototype.km=function(b){return cb(this.jj,b)};n.prototype.lm=function(){return!0};n.prototype.Yd=function(){return!0};l.A=new n;l.Qc=new function(){};l.ad=new function(){}})();
function bc(g){this.b=g}
(function(){function g(a){return a&&!a.paused&&!a.ended&&0<a.currentTime}function n(){var b=a.slice(0);R(a);var c,e,f,g;c=0;for(e=b.length;c<e;++c)g=b[c],(f=g.play())&&f.catch(function(){l(g)})}function l(b){-1===a.indexOf(b)&&a.push(b)}function p(){}function v(){}var r=bc.prototype;r.Ie=function(a){this.za=a;this.b=a.b};var h=r.Ie.prototype;h.Ya=function(){};h.si=function(){if(!this.H){var a,b,c;a=0;for(b=this.c.length;a<b;++a)c=this.c[a],c.fa=null}};var h=document.createElement("video"),b=!!h.canPlayType("video/webm"),
e=!!h.canPlayType("video/ogg"),c=!!h.canPlayType("video/mp4"),h=null;r.Nc=function(a){this.type=a;this.b=a.b};var h=r.Nc.prototype,a=[];document.addEventListener("touchend",n,!0);document.addEventListener("click",n,!0);document.addEventListener("keydown",n,!0);h.md=function(b){if(this.video){var c=this;if(b)if(0<this.qg)l(this.video);else{var e;try{e=this.video.play()}catch(f){l(this.video);return}e?e.catch(function(){c.video&&l(c.video)}):this.Rp&&!this.b.Mo&&l(this.video)}else b=a.indexOf(this.video),
0<=b&&a.splice(b,1)}};h.Ya=function(){this.Vp=this.Za[0];this.Zo=this.Za[1];this.Yo=this.Za[2];this.autoplay=this.Za[3];this.ip=0!==this.Za[4];this.bj=!1;this.video=document.createElement("video");this.video.crossOrigin="anonymous";this.video.playsInline=!0;this.fa=null;this.rc=-1;this.Rf=this.Td=null;this.Sp=this.b.yc||this.b.gf;this.qg=0;var a=this;this.video.addEventListener("canplay",function(){a.rc=0;a.b.trigger(bc.prototype.A.Oc,a)});this.video.addEventListener("canplaythrough",function(){a.rc=
1;a.b.trigger(bc.prototype.A.Oc,a)});this.video.addEventListener("ended",function(){a.rc=2;a.b.trigger(bc.prototype.A.Oc,a)});this.video.addEventListener("error",function(){a.rc=3;a.b.trigger(bc.prototype.A.Oc,a)});this.video.addEventListener("loadstart",function(){a.rc=4;a.b.trigger(bc.prototype.A.Oc,a)});this.video.addEventListener("playing",function(){a.rc=5;a.b.trigger(bc.prototype.A.Oc,a)});this.video.addEventListener("pause",function(){a.rc=6;a.b.trigger(bc.prototype.A.Oc,a)});this.video.addEventListener("stalled",
function(){a.rc=7;a.b.trigger(bc.prototype.A.Oc,a)});this.Rp=(this.b.tg||this.b.$h&&(this.b.gk||this.b.ai))&&!this.b.og&&!this.b.Xa;0===this.autoplay?(this.video.autoplay=!1,this.video.pj="none"):1===this.autoplay?(this.video.autoplay=!1,this.video.pj="auto"):2===this.autoplay&&(this.video.autoplay=!0);this.ul(this.Vp,this.Zo,this.Yo);2===this.autoplay&&this.md(!0);this.visible=0!==this.Za[5];this.b.Kl(this);this.Nb||(a=this,this.b.vm(function(b){a.ep(b)}))};h.ep=function(a){!this.ip&&this.video&&
(a?g(this.video)&&(this.md(!1),this.video.pause(),this.bj=!0):this.bj&&(this.md(!0),this.bj=!1))};h.ul=function(a,f,g){var h=this,k="";b&&a?k=a.toLowerCase():e&&f?k=f.toLowerCase():c&&g&&(k=g.toLowerCase());k&&(this.b.fi&&!this.b.fk(k)?(this.qg++,this.b.Mj(k,function(a){h.qg--;h.video.src=a;n()},function(a){console.error("[Video] Failed to load video '"+k+"': ",a);h.qg--;h.video.src=k})):this.video.src=k);this.b.i&&this.fa&&(this.b.i.deleteTexture(this.fa),this.fa=null);this.Rf=this.Td=null};h.Ig=
function(){this.md(!1);g(this.video)&&this.video.pause();this.b.i&&this.fa&&(this.b.i.deleteTexture(this.fa),this.fa=null);this.Rf=this.Td=null;this.video.src="";this.video=null};h.Sd=function(){g(this.video)&&(this.b.J=!0)};h.Pb=function(){return{s:this.video.src||"",p:!!g(this.video),t:this.video.currentTime||0}};h.Cc=function(a){if(a&&"undefined"!==typeof a.s){var b=a.s;this.ul(b,b,b);try{this.video.currentTime=a.t}catch(c){}a.p?this.md(!0):(this.md(!1),this.video.pause())}};h.Yc=function(a){if(this.video){var b=
this.video.videoWidth,c=this.video.videoHeight;if(!(0>=b||0>=c)){var b=b/c,c=this.width,e=this.height,f=0,g=0,h=0,k=0;c/e>b?(h=e*b,k=e,f=Math.floor((c-h)/2),0>f&&(f=0)):(h=c,k=c/b,g=Math.floor((e-k)/2),0>g&&(g=0));a.globalAlpha=this.opacity;a.drawImage(this.video,this.x+f,this.y+g,h,k)}}};var f=new Q(0,0,0,0),k=new sa;h.nb=function(a){if(this.video){var b=this.video.videoWidth,c=this.video.videoHeight;if(!(0>=b||0>=c)){var e=b/c,g=this.width,h=this.height,l=0,n=0,p=0,r=0;g/h>e?(p=h*e,r=h,l=Math.floor((g-
p)/2),0>l&&(l=0)):(p=g,r=g/e,n=Math.floor((h-r)/2),0>n&&(n=0));this.fa||(this.fa=a.eb(b,c,this.b.da,!1,!1));this.Sp?(this.Rf||(this.Td=document.createElement("canvas"),this.Td.width=b,this.Td.height=c,this.Rf=this.Td.getContext("2d")),this.Rf.drawImage(this.video,0,0),a.Yl(this.Td,this.fa)):a.Yl(this.video,this.fa);a.Fc(this.Ba,this.wa);a.ze(this.opacity);a.lb(this.fa);f.set(this.x+l,this.y+n,this.x+l+p,this.y+n+r);k.Ff(f);a.we(k.Qb,k.Rb,k.Tb,k.Ub,k.Eb,k.Fb,k.Cb,k.Db)}}};p.prototype.fm=function(){return this.video.ended};
p.prototype.Oc=function(a){return this.rc===a};r.A=new p;v.prototype.rm=function(){this.md(!1);this.video.pause()};v.prototype.Play=function(){this.md(!0)};r.Qc=new v;r.ad=new function(){}})();function $b(){return[bc,ac,bc.prototype.A.fm,bc.prototype.Qc.rm,Z.prototype.Qc.tm,bc.prototype.Qc.Play]};
